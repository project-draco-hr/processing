{
  if (g == null) {
    int gray=(int)fgray;
    if (gray > 255)     gray=255;
 else     if (gray < 0)     gray=0;
    return 0xff000000 | (gray << 16) | (gray << 8)| gray;
  }
  return g.color(fgray);
}
