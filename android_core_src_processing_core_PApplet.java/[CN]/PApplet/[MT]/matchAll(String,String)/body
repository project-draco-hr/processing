{
  final Pattern p=Pattern.compile(regexp,Pattern.MULTILINE | Pattern.DOTALL);
  final Matcher m=p.matcher(what);
  final ArrayList<String[]> results=new ArrayList<String[]>();
  final int count=m.groupCount() + 1;
  while (m.find()) {
    final String[] groups=new String[count];
    for (int i=0; i < count; i++) {
      groups[i]=m.group(i);
    }
    results.add(groups);
  }
  if (results.isEmpty()) {
    return null;
  }
  final String[][] matches=new String[results.size()][count];
  for (int i=0; i < matches.length; i++) {
    matches[i]=results.get(i);
  }
  return matches;
}
