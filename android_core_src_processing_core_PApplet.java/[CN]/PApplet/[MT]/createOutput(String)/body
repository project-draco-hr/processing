{
  try {
    File file=new File(filename);
    if (!file.isAbsolute()) {
      file=new File(sketchPath(filename));
    }
    FileOutputStream fos=new FileOutputStream(file);
    if (file.getName().toLowerCase().endsWith(".gz")) {
      return new GZIPOutputStream(fos);
    }
    return fos;
  }
 catch (  IOException e) {
    e.printStackTrace();
  }
  return null;
}
