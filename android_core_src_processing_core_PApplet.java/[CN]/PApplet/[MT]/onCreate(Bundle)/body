{
  super.onCreate(savedInstanceState);
  if (DEBUG)   println("onCreate() happening here: " + Thread.currentThread().getName());
  Window window=getWindow();
  requestWindowFeature(Window.FEATURE_NO_TITLE);
  window.setFlags(WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN,WindowManager.LayoutParams.FLAG_LAYOUT_IN_SCREEN);
  window.setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,WindowManager.LayoutParams.FLAG_FULLSCREEN);
  DisplayMetrics dm=new DisplayMetrics();
  getWindowManager().getDefaultDisplay().getMetrics(dm);
  displayWidth=dm.widthPixels;
  displayHeight=dm.heightPixels;
  if (DEBUG)   println("display metrics: " + dm);
  int sw=sketchWidth();
  int sh=sketchHeight();
  if (sketchRenderer().equals(JAVA2D)) {
    surfaceView=new SketchSurfaceView(this,sw,sh);
  }
 else   if (sketchRenderer().equals(P2D) || sketchRenderer().equals(P3D)) {
    surfaceView=new SketchSurfaceViewGL(this,sw,sh,sketchRenderer().equals(P3D));
  }
  if (sw == displayWidth && sh == displayHeight) {
    window.setContentView(surfaceView);
  }
 else {
    RelativeLayout overallLayout=new RelativeLayout(this);
    RelativeLayout.LayoutParams lp=new RelativeLayout.LayoutParams(RelativeLayout.LayoutParams.WRAP_CONTENT,RelativeLayout.LayoutParams.WRAP_CONTENT);
    lp.addRule(RelativeLayout.CENTER_IN_PARENT);
    LinearLayout layout=new LinearLayout(this);
    layout.addView(surfaceView,sketchWidth(),sketchHeight());
    overallLayout.addView(layout,lp);
    window.setContentView(overallLayout);
  }
  finished=false;
  looping=true;
  redraw=true;
  firstMotion=true;
  sizeMethods=new RegisteredMethods();
  preMethods=new RegisteredMethods();
  drawMethods=new RegisteredMethods();
  postMethods=new RegisteredMethods();
  mouseEventMethods=new RegisteredMethods();
  keyEventMethods=new RegisteredMethods();
  disposeMethods=new RegisteredMethods();
  Context context=getApplicationContext();
  sketchPath=context.getFilesDir().getAbsolutePath();
  handler=new Handler();
  start();
}
