{
  byte[] buffer=new byte[4096];
  int count;
  int amount;
  int length=Integer.MAX_VALUE;
  while (true) {
    amount=(length < 4096) ? (int)length : 4096;
    count=input.read(buffer,0,amount);
    if (count == -1)     break;
    output.write(buffer,0,count);
    length-=count;
    if (length == 0)     break;
  }
  output.flush();
}
