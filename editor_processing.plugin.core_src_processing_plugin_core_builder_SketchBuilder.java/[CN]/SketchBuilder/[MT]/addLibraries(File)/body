{
  if (folder == null)   return false;
  if (!folder.isDirectory())   return false;
  File list[]=folder.listFiles(new FilenameFilter(){
    public boolean accept(    File dir,    String name){
      if (name.charAt(0) == '.')       return false;
      if (name.equals("CVS"))       return false;
      return (new File(dir,name).isDirectory());
    }
  }
);
  if (list == null)   return false;
  boolean ifound=false;
  for (  File potentialFile : list) {
    if (ProcessingCore.isLibrary(potentialFile,true)) {
      File libraryFolder=new File(potentialFile,"library");
      String libraryClassPath=Utilities.contentsToClassPath(libraryFolder);
      String packages[]=Utilities.packageListFromClassPath(libraryClassPath);
      for (      String pkg : packages) {
        importToLibraryTable.put(pkg,libraryFolder);
      }
      ifound=true;
    }
 else {
      if (addLibraries(potentialFile))       ifound=true;
    }
  }
  return ifound;
}
