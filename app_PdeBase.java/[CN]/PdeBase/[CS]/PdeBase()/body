{
  frame=new Frame(WINDOW_TITLE);
  windowListener=new WindowAdapter(){
    public void windowClosing(    WindowEvent e){
      editor.doQuit();
    }
  }
;
  frame.addWindowListener(windowListener);
  properties=new Properties();
  try {
    properties.load(getClass().getResource("pde.properties").openStream());
  }
 catch (  Exception e) {
    System.err.println("Error reading pde.properties");
    e.printStackTrace();
    System.exit(1);
  }
  int width=getInteger("window.width",600);
  int height=getInteger("window.height",350);
  editor=new PdeEditor();
  frame.setLayout(new BorderLayout());
  frame.add("Center",editor);
  MenuBar menubar=new MenuBar();
  Menu menu;
  MenuItem item;
  menu=new Menu("File");
  menu.add(new MenuItem("New",new MenuShortcut('N')));
  Menu openMenu=new Menu("Open");
  rebuildSketchbookMenu(openMenu);
  menu.add(openMenu);
  menu.add(new MenuItem("Save",new MenuShortcut('S')));
  menu.add(new MenuItem("Duplicate",new MenuShortcut('D')));
  menu.add(new MenuItem("Export to Web",new MenuShortcut('E')));
  menu.add(new MenuItem("Export Application",new MenuShortcut('E',true)));
  menu.addSeparator();
  menu.add(new MenuItem("Proce55ing.net",new MenuShortcut('5')));
  menu.add(new MenuItem("Reference",new MenuShortcut('R')));
  menu.addSeparator();
  menu.add(new MenuItem("Quit",new MenuShortcut('Q')));
  menu.addActionListener(this);
  menubar.add(menu);
  menu=new Menu("Edit");
  menu.add(new MenuItem("Undo"));
  menu.addSeparator();
  menu.add(new MenuItem("Cut"));
  menu.add(new MenuItem("Copy"));
  menu.add(new MenuItem("Paste"));
  menu.addSeparator();
  menu.add(new MenuItem("Select all"));
  menu.setEnabled(false);
  menubar.add(menu);
  menu=new Menu("Sketch");
  menu.add(new MenuItem("Play",new MenuShortcut('P')));
  menu.add(new MenuItem("Present",new MenuShortcut('P',true)));
  menu.add(new MenuItem("Stop"));
  menu.addSeparator();
  menu.add(new MenuItem("Beautify",new MenuShortcut('B')));
  menu.addActionListener(this);
  menubar.add(menu);
  frame.setMenuBar(menubar);
  Insets insets=frame.getInsets();
  Toolkit tk=Toolkit.getDefaultToolkit();
  Dimension screen=tk.getScreenSize();
  int frameX=getInteger("window.x",(screen.width - width) / 2);
  int frameY=getInteger("window.y",(screen.height - height) / 2);
  frame.setBounds(frameX,frameY,width + insets.left + insets.right,height + insets.top + insets.bottom);
  frame.pack();
  editor.frame=frame;
  editor.init();
  frame.show();
}
