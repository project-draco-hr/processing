{
  menu.removeAll();
  try {
    sketchbookFolder=new File(get("sketchbook.path","sketchbook"));
    sketchbookPath=sketchbookFolder.getCanonicalPath();
    if (!sketchbookFolder.exists()) {
      System.err.println("sketchbook folder doesn't exist, " + "making a new one");
      sketchbookFolder.mkdirs();
    }
    String userPath=sketchbookPath + File.separator + editor.userName;
    File userFolder=new File(userPath);
    if (!userFolder.exists()) {
      System.err.println("sketchbook folder for '" + editor.userName + "' doesn't exist, creating a new one");
      userFolder.mkdirs();
    }
    if (addSketches(menu,userFolder,false)) {
      menu.addSeparator();
    }
    if (!addSketches(menu,sketchbookFolder,true)) {
      MenuItem item=new MenuItem("No sketches");
      item.setEnabled(false);
      menu.add(item);
    }
  }
 catch (  IOException e) {
    e.printStackTrace();
  }
}
