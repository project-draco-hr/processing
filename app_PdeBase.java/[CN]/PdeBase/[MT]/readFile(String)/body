{
  if (filename.length() == 0) {
    return null;
  }
  URL url;
  InputStream stream=null;
  String openMe;
  byte temp[]=new byte[65536];
  try {
    stream=new FileInputStream(filename);
  }
 catch (  Exception e1) {
    try {
      url=getClass().getResource(filename);
      stream=url.openStream();
    }
 catch (    Exception e2) {
      try {
        url=new URL(filename);
        stream=url.openStream();
      }
 catch (      Exception e3) {
        return null;
      }
    }
  }
  try {
    int offset=0;
    while (true) {
      int byteCount=stream.read(temp,offset,1024);
      if (byteCount <= 0)       break;
      offset+=byteCount;
    }
    byte program[]=new byte[offset];
    System.arraycopy(temp,0,program,0,offset);
    try {
      if (encoding == null)       return new String(program);
      return new String(program,encoding);
    }
 catch (    UnsupportedEncodingException e) {
      e.printStackTrace();
      encoding=null;
      return new String(program);
    }
  }
 catch (  Exception e) {
    System.err.println("problem during download");
    e.printStackTrace();
    return null;
  }
}
