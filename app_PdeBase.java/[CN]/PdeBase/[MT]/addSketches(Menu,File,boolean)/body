{
  if (!folder.isDirectory())   return;
  String list[]=folder.list();
  SketchbookMenuListener listener=new SketchbookMenuListener(folder.getCanonicalPath());
  for (int i=0; i < list.length; i++) {
    if (list[i].equals(editor.userName) && root)     continue;
    if (list[i].equals(".") || list[i].equals("..") || list[i].equals("CVS"))     continue;
    File subfolder=new File(folder,list[i]);
    if (new File(subfolder,list[i] + ".pde").exists()) {
      MenuItem item=new MenuItem(list[i]);
      item.addActionListener(listener);
      menu.add(item);
    }
 else {
      Menu submenu=new Menu(list[i]);
      menu.add(submenu);
      addSketches(submenu,subfolder,false);
    }
  }
}
