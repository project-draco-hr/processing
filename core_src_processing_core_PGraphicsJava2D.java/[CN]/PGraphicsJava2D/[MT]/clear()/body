{
  if (backgroundAlpha) {
    WritableRaster raster=((BufferedImage)image).getRaster();
    if ((clearPixels == null) || (clearPixels.length < width)) {
      clearPixels=new int[width];
    }
    for (int i=0; i < width; i++) {
      clearPixels[i]=backgroundColor;
    }
    for (int i=0; i < height; i++) {
      raster.setDataElements(0,i,width,1,clearPixels);
    }
  }
 else {
    pushMatrix();
    resetMatrix();
    g2.setColor(new Color(backgroundColor,backgroundAlpha));
    g2.fillRect(0,0,width,height);
    popMatrix();
  }
}
