{
  if (primarySurface) {
    if (useCanvas) {
      redraw();
    }
 else     if (useOffscreen) {
synchronized (image) {
        image.getGraphics().drawImage(offscreen,0,0,null);
      }
    }
 else {
      g2.dispose();
    }
  }
 else {
    loadPixels();
  }
  setModified();
  super.updatePixels();
}
