{
  final AttachingConnector connector=(AttachingConnector)findConnector("com.sun.jdi.SocketAttach");
  final Map arguments=connector.defaultArguments();
  ((Connector.Argument)arguments.get("port")).setValue(localPort);
  ((Connector.Argument)arguments.get("hostname")).setValue("127.0.0.1");
  try {
    System.out.println("Attaching to the debugger. If this command hangs, ");
    System.out.println("you may need to use Tools \u2192 " + Reset.MENU_TITLE + ".");
    final VirtualMachine machine=connector.attach(arguments);
    System.out.println("Debugger successfully attached, nevermind that last bit.");
    return machine;
  }
 catch (  final IOException ioe) {
    ioe.printStackTrace();
    editor.statusError(ioe);
  }
catch (  final IllegalConnectorArgumentsException icae) {
    editor.statusError(icae);
  }
  return null;
}
