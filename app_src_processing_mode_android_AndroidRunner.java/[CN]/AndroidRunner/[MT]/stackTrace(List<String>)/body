{
  final Iterator<String> frames=trace.iterator();
  final String exceptionLine=frames.next();
  final Matcher m=EXCEPTION_PARSER.matcher(exceptionLine);
  if (!m.matches()) {
    System.err.println("Can't parse this exception line:");
    System.err.println(exceptionLine);
    listener.statusError("Unknown exception");
    return;
  }
  final String exceptionClass=m.group(1);
  if (Runner.handleCommonErrors(exceptionClass,exceptionLine,listener)) {
    return;
  }
  while (frames.hasNext()) {
    final String line=frames.next();
    if (line.contains("processing.android")) {
      final Matcher lm=LOCATION.matcher(line);
      if (lm.find()) {
        final String filename=lm.group(1);
        final int lineNumber=Integer.parseInt(lm.group(2)) - 1;
        final SketchException rex=build.placeException(exceptionLine,filename,lineNumber);
        listener.statusError(rex == null ? new SketchException(exceptionLine,false) : rex);
        return;
      }
    }
  }
}
