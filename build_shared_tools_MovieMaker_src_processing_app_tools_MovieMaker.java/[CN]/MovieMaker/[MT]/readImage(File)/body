{
  Thread.currentThread().setContextClassLoader(getClass().getClassLoader());
  BufferedImage image=ImageIO.read(file);
  String[] loadImageFormats=ImageIO.getReaderFormatNames();
  if (loadImageFormats != null) {
    for (    String format : loadImageFormats) {
      System.out.println(format);
    }
  }
  if (image == null) {
    String path=file.getAbsolutePath();
    if (path.toLowerCase().endsWith(".tga")) {
      return loadImageTGA(file);
    }
 else     if (path.toLowerCase().endsWith(".tif")) {
      throw new IOException("Try TGA or PNG images instead of TIFF.");
    }
  }
  return image;
}
