{
  this.textarea=(JavaTextArea)textarea;
  editor=dedit;
  this.insertionPosition=position;
  if (subWord.indexOf('.') != -1)   this.subWord=subWord.substring(subWord.lastIndexOf('.') + 1);
 else   this.subWord=subWord;
  popupMenu=new JPopupMenu();
  popupMenu.removeAll();
  popupMenu.setOpaque(false);
  popupMenu.setBorder(null);
  scrollPane=new JScrollPane();
  styleScrollPane();
  scrollPane.setViewportView(completionList=createSuggestionList(position,items));
  popupMenu.add(scrollPane,BorderLayout.CENTER);
  popupMenu.setPopupSize(calcWidth(),calcHeight(items.getSize()));
  this.textarea.errorCheckerService.getASTGenerator().updateJavaDoc(completionList.getSelectedValue());
  textarea.requestFocusInWindow();
  popupMenu.show(textarea,location.x,textarea.getBaseline(0,0) + location.y);
  Mode mode=editor.getMode();
  classIcon=mode.loadIcon("theme/icon_class_obj.png");
  methodIcon=mode.loadIcon("theme/icon_methpub_obj.png");
  fieldIcon=mode.loadIcon("theme/icon_field_protected_obj.png");
  localVarIcon=mode.loadIcon("theme/icon_field_default_obj.png");
}
