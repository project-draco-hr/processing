{
  this.contrib=contrib;
  StringBuilder description=new StringBuilder();
  description.append("<html><body><b>");
  if (contrib.getUrl() == null) {
    description.append(contrib.getName());
  }
 else {
    description.append("<a href=\"" + contrib.getUrl() + "\">"+ contrib.getName()+ "</a>");
  }
  description.append("</b>");
  String authorList=contrib.getAuthorList();
  if (authorList != null && !authorList.isEmpty()) {
    description.append(" by ");
    description.append(toHtmlLinks(contrib.getAuthorList()));
  }
  description.append("<br/>");
  if (contrib.isDeletionFlagged()) {
    description.append(REMOVE_RESTART_MESSAGE);
  }
 else   if (contrib.isRestartFlagged()) {
    description.append(INSTALL_RESTART_MESSAGE);
  }
 else {
    String sentence=contrib.getSentence();
    if (sentence == null || sentence.isEmpty()) {
      sentence="<i>Description unavailable.</i>";
    }
 else {
      sentence=sanitizeHtmlTags(sentence);
      sentence=toHtmlLinks(sentence);
    }
    description.append(sentence);
  }
  String version=contrib.getPrettyVersion();
  if (version != null && !version.isEmpty()) {
    description.append("<br/>");
    if (version.toLowerCase().startsWith("build"))     description.append("v" + version.substring(5,version.indexOf(',')).trim());
 else     if (version.toLowerCase().startsWith("v"))     description.append(version);
 else     description.append("v" + version);
  }
  description.append("</body></html>");
  descriptionBlock.setText(description.toString());
  if (contribListing.hasUpdates(contrib)) {
    StringBuilder versionText=new StringBuilder();
    versionText.append("<html><body><i>");
    if (contrib.isDeletionFlagged()) {
      versionText.append("To finish an update, reinstall this contribution after restarting.");
    }
 else {
      String latestVersion=contribListing.getLatestVersion(contrib);
      if (latestVersion != null)       versionText.append("New version (" + latestVersion + ") available!");
 else       versionText.append("New version available!");
      if (contrib.getType().requiresRestart()) {
        versionText.append(" To update, first remove the current version.");
      }
    }
    versionText.append("</i></body></html>");
    notificationBlock.setText(versionText.toString());
    notificationBlock.setVisible(true);
  }
 else {
    notificationBlock.setText("");
    notificationBlock.setVisible(false);
  }
  updateButton.setEnabled(true);
  if (contrib != null && !contrib.getType().requiresRestart()) {
    updateButton.setVisible(isSelected() && contribListing.hasUpdates(contrib));
  }
  installRemoveButton.removeActionListener(installActionListener);
  installRemoveButton.removeActionListener(removeActionListener);
  installRemoveButton.removeActionListener(undoActionListener);
  if (contrib.isDeletionFlagged()) {
    installRemoveButton.addActionListener(undoActionListener);
    installRemoveButton.setText("Undo");
  }
 else   if (contrib.isInstalled()) {
    installRemoveButton.addActionListener(removeActionListener);
    installRemoveButton.setText("Remove");
    installRemoveButton.setVisible(true);
  }
 else {
    installRemoveButton.addActionListener(installActionListener);
    installRemoveButton.setText("Install");
  }
  contextMenu.removeAll();
  if (contrib.isInstalled()) {
    contextMenu.add(openFolder);
    setComponentPopupMenu(contextMenu);
  }
 else {
    setComponentPopupMenu(null);
  }
}
