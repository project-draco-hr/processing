{
  a=(a < 0) ? 0 : a;
  b=(b < 0) ? 0 : b;
  if (a <= b) {
    if (b == 0) {
      return (x + y) / 2.0;
    }
 else {
      return (x + (y - x) * (a / (a + b)));
    }
  }
 else {
    return (y + (x - y) * (b / (a + b)));
  }
}
