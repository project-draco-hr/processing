{
  float f=(0 < ifps && 0 < fps) ? ifps / fps : 1;
  if (playing) {
    gplayer.pause();
  }
  long t=gplayer.queryPosition(TimeUnit.NANOSECONDS);
  boolean res;
  long start, stop;
  if (rate > 0) {
    start=t;
    stop=-1;
  }
 else {
    start=0;
    stop=t;
  }
  res=gplayer.seek(rate * f,Format.TIME,SeekFlags.FLUSH,SeekType.SET,start,SeekType.SET,stop);
  if (!res) {
    PGraphics.showWarning("Seek operation failed.");
  }
  if (playing) {
    gplayer.play();
  }
  fps=ifps;
}
