{
  if (bufferSink != null || (useGLSink && parent.g.isGL())) {
    useBufferSink=true;
    if (bufferSink != null) {
      getSinkMethods();
    }
    if (copyMask == null || copyMask.equals("")) {
      initCopyMask();
    }
    natSink=new BufferDataAppSink("nat",copyMask,new BufferDataAppSink.Listener(){
      public void bufferFrame(      int w,      int h,      Buffer buffer){
        invokeEvent(w,h,buffer);
      }
    }
);
    natSink.setAutoDisposeBuffer(false);
    gplayer.setVideoSink(natSink);
    natSink.dispose();
  }
 else {
    rgbSink=new RGBDataAppSink("rgb",new RGBDataAppSink.Listener(){
      public void rgbFrame(      int w,      int h,      IntBuffer buffer){
        invokeEvent(w,h,buffer);
      }
    }
);
    rgbSink.setPassDirectBuffer(Video.passDirectBuffer);
    gplayer.setVideoSink(rgbSink);
    rgbSink.dispose();
  }
  Bus bus=gplayer.getBus();
  bus.connect(new Bus.EOS(){
    public void endOfStream(    GstObject element){
      eosEvent();
    }
  }
);
  sinkReady=true;
  newFrame=false;
}
