{
  if (editor == null) {
    return;
  }
  if (p == null)   return;
  try {
    if (p.getPDELineStartOffset() == -1 || p.getPDELineStopOffset() == -1) {
      editor.toFront();
      editor.getSketch().setCurrentCode(p.getTabIndex());
    }
 else {
      astGenerator.highlightPDECode(p.getTabIndex(),p.getLineNumber(),p.getPDELineStartOffset(),(p.getPDELineStopOffset() - p.getPDELineStartOffset() + 1));
    }
    final Document doc=editor.getTextArea().getDocument();
    final int lineCount=Base.countLines(doc.getText(0,doc.getLength()));
    if (p.getLineNumber() < lineCount && p.getLineNumber() >= 0) {
      editor.getTextArea().scrollTo(p.getLineNumber(),0);
    }
    editor.repaint();
  }
 catch (  Exception e) {
    Base.loge("Error while selecting text in scrollToErrorLine(), for problem: " + p,e);
  }
}
