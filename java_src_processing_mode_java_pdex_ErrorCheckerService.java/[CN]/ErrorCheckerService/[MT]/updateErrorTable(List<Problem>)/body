{
  try {
    ErrorTable table=editor.getErrorTable();
    table.clearRows();
    Map<String,String[]> suggestions=new HashMap<>();
    Sketch sketch=editor.getSketch();
    for (    Problem p : problems) {
      String message=p.getMessage();
      if (Preferences.getBoolean(JavaMode.SUGGEST_IMPORTS_PREF)) {
        if (p.getIProblem().getID() == IProblem.UndefinedType) {
          String[] args=p.getIProblem().getArguments();
          if (args.length > 0) {
            String missingClass=args[0];
            String[] si=suggestions.get(missingClass);
            if (si == null) {
synchronized (astGenerator) {
                si=astGenerator.getSuggestImports(missingClass);
              }
              suggestions.put(missingClass,si);
            }
            if (si != null && si.length > 0) {
              p.setImportSuggestions(si);
              message+=" (double-click for suggestions)";
            }
          }
        }
      }
      table.addRow(p,message,sketch.getCode(p.getTabIndex()).getPrettyName(),Integer.toString(p.getLineNumber() + 1));
    }
  }
 catch (  Exception e) {
    Messages.loge("Exception at updateErrorTable()",e);
    e.printStackTrace();
    cancel();
  }
}
