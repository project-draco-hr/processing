{
  stopThread.set(false);
  checkCode();
  lastErrorCheckCall=System.currentTimeMillis();
  if (!hasSyntaxErrors())   editor.showProblemListView(XQConsoleToggle.CONSOLE);
  astGenerator.buildAST(cu);
  handleErrorCheckingToggle();
  while (!stopThread.get()) {
    try {
      if (!noSleep) {
        Thread.sleep(sleepTime);
      }
 else {
        noSleep=false;
        Base.log("Didn't sleep!");
      }
    }
 catch (    Exception e) {
      Base.log("Oops! [ErrorCheckerThreaded]: " + e);
    }
    updatePaintedThingys();
    updateEditorStatus();
    updateSketchCodeListeners();
    if (pauseThread.get())     continue;
    if (textModified.get() == 0)     continue;
    if (System.currentTimeMillis() - lastErrorCheckCall > errorCheckInterval) {
      Base.log("Interval passed, starting error check");
      checkCode();
      checkForMissingImports();
    }
  }
  astGenerator.disposeAllWindows();
  compilationChecker=null;
  checkerClass=null;
  classLoader=null;
  System.gc();
  Base.loge("Thread stopped: " + editor.getSketch().getName());
  System.gc();
}
