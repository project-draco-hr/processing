{
  running=true;
  PreprocessedSketch prevResult=null;
  while (running) {
    try {
      try {
        requestQueue.take();
      }
 catch (      InterruptedException e) {
        running=false;
        break;
      }
      Messages.log("Starting preprocessing");
      prevResult=preprocessSketch(prevResult);
synchronized (requestLock) {
        if (requestQueue.isEmpty()) {
          Messages.log("Completing preprocessing");
          preprocessingTask.complete(prevResult);
        }
      }
    }
 catch (    Exception e) {
      Messages.loge("problem in error checker loop",e);
    }
  }
  astGenerator.getGui().disposeAllWindows();
}
