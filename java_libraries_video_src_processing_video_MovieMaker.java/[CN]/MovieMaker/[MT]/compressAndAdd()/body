{
  try {
    if (temporalSupported) {
      CompressedFrameInfo cfInfo=seq.compressFrame(gw,bounds,StdQTConstants.codecFlagUpdatePrevious,compressedImage);
      boolean syncSample=cfInfo.getSimilarity() == 0;
      videoMedia.addSample(imageHandle,0,cfInfo.getDataSize(),TIME_SCALE / rate,imgDesc,1,syncSample ? 0 : StdQTConstants.mediaSampleNotSync);
    }
 else {
      imgDesc=QTImage.fCompress(gw,gw.getBounds(),32,codecQuality,codecType,CodecComponent.anyCodec,null,0,RawEncodedImage.fromQTHandle(imageHandle));
      boolean syncSample=true;
      videoMedia.addSample(imageHandle,0,imgDesc.getDataSize(),TIME_SCALE / rate,imgDesc,1,syncSample ? 0 : StdQTConstants.mediaSampleNotSync);
    }
  }
 catch (  QTException e) {
    e.printStackTrace();
  }
}
