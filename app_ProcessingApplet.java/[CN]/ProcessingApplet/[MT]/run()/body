{
  while ((Thread.currentThread() == thread) && !finished) {
    if (timing) {
      actualMillis=System.currentTimeMillis();
      millis=(int)(actualMillis - millisOffset);
      calendar=null;
    }
    if (!drawn) {
      g.beginFrame();
      draw();
      if (!drawMethod) {
      }
      if (drawMethod) {
        g.endFrame();
        update();
        if (isMacintosh)         getToolkit().sync();
        finished=true;
      }
      drawn=true;
    }
    if (!drawMethod) {
      g.beginFrame();
      loop();
      g.endFrame();
      update();
      if (isMacintosh)       getToolkit().sync();
    }
    if (!loopMethod) {
      finished=true;
    }
    if (mousePressedBriefly) {
      mousePressedBriefly=false;
      mousePressed=false;
    }
    if (keyPressedBriefly) {
      keyPressedBriefly=false;
      keyPressed=false;
    }
    try {
      thread.sleep(5);
    }
 catch (    InterruptedException e) {
    }
  }
}
