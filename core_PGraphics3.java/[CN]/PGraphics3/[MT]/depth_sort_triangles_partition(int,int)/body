{
  int pivot=right;
  do {
    while (depth_sort_triangles_compare(++left,pivot) < 0) {
    }
    while ((right != 0) && (depth_sort_triangles_compare(--right,pivot) > 0)) {
    }
    depth_sort_triangles_swap(left,right);
  }
 while (left < right);
  depth_sort_triangles_swap(left,right);
  return left;
}
