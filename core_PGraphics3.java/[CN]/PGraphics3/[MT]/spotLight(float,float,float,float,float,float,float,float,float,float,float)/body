{
  if (lightCount == MAX_LIGHTS) {
    throw new RuntimeException("can only create " + MAX_LIGHTS + " lights");
  }
  colorCalc(r,g,b);
  lightsDiffuseR[lightCount]=calcR;
  lightsDiffuseG[lightCount]=calcG;
  lightsDiffuseB[lightCount]=calcB;
  lights[lightCount]=SPOT;
  lightsFalloffConstant[lightCount]=lightFalloffConstant;
  lightsFalloffLinear[lightCount]=lightFalloffLinear;
  lightsFalloffQuadratic[lightCount]=lightFalloffQuadratic;
  lightsSpecularR[lightCount]=lightSpecularR;
  lightsSpecularG[lightCount]=lightSpecularG;
  lightsSpecularB[lightCount]=lightSpecularB;
  lightPosition(lightCount,x,y,z);
  lightDirection(lightCount,nx,ny,nz);
  lightsSpotAngle[lightCount]=angle;
  lightsSpotAngleCos[lightCount]=max(0,cos(angle));
  lightsSpotConcentration[lightCount]=concentration;
  lightCount++;
  lightingDependsOnVertexPosition=true;
}
