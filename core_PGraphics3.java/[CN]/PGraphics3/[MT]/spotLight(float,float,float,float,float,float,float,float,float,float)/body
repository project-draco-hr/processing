{
  if (lightCount == MAX_LIGHTS) {
    throw new RuntimeException("can only create " + MAX_LIGHTS + " lights");
  }
  colorCalc(r,g,b);
  lightDiffuseR[lightCount]=calcR;
  lightDiffuseG[lightCount]=calcG;
  lightDiffuseB[lightCount]=calcB;
  lightType[lightCount]=SPOT;
  lightConstantFalloff[lightCount]=1;
  lightLinearFalloff[lightCount]=0;
  lightQuadraticFalloff[lightCount]=0;
  lightSpecularR[lightCount]=0;
  lightSpecularG[lightCount]=0;
  lightSpecularB[lightCount]=0;
  lightPosition(lightCount,x,y,z);
  lightDirection(lightCount,nx,ny,nz);
  lightSpotAngle[lightCount]=angle;
  lightSpotAngleCos[lightCount]=max(0,cos(angle));
  lightSpotConcentration[lightCount]=1;
  lightCount++;
}
