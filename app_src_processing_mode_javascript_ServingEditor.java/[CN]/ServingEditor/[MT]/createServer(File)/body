{
  if (server != null)   return server;
  if (!root.exists() && !root.mkdir()) {
  }
  server=new BasicServer(root);
  server.addListener(this);
  File sketchProps=getSketchPropertiesFile();
  if (sketchProps.exists()) {
    try {
      Settings props=new Settings(sketchProps);
      String portString=props.get(PROP_KEY_SERVER_PORT);
      if (portString != null && !portString.trim().equals("")) {
        int port=Integer.parseInt(portString);
        server.setPort(port);
      }
    }
 catch (    IOException ioe) {
      statusError(ioe);
    }
  }
  return server;
}
