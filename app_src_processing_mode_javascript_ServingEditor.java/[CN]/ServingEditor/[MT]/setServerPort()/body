{
  String pString=null;
  String msg="Set the server port (1024 < port < 65535)";
  int currentPort=-1;
  if (server != null)   currentPort=server.getPort();
  if (currentPort > 0)   pString=JOptionPane.showInputDialog(msg,(currentPort + ""));
 else   pString=JOptionPane.showInputDialog(msg);
  if (pString == null)   return;
  int port=-1;
  try {
    port=Integer.parseInt(pString);
  }
 catch (  Exception e) {
    statusError("That number was not okay ..");
    return;
  }
  if (port < 0 || port > 65535) {
    statusError("That port number is out of range");
    return;
  }
  if (server != null) {
    server.setPort(port);
  }
  File sketchProps=getSketchPropertiesFile();
  if (sketchProps.exists()) {
    try {
      Settings settings=new Settings(sketchProps);
      settings.set(PROP_KEY_SERVER_PORT,(port + ""));
      settings.save();
    }
 catch (    IOException ioe) {
      statusError(ioe);
    }
  }
}
