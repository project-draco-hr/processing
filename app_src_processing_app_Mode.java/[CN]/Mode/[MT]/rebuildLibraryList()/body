{
  importToLibraryTable=new HashMap<String,List<Library>>();
  Library core=getCoreLibrary();
  if (core != null) {
    core.addPackageList(importToLibraryTable);
  }
  coreLibraries=Library.list(librariesFolder);
  File contribLibrariesFolder=Base.getSketchbookLibrariesFolder();
  contribLibraries=Library.list(contribLibrariesFolder);
  List<Library> foundationLibraries=new ArrayList<>();
  for (  Library lib : contribLibraries) {
    if (lib.isFoundation()) {
      foundationLibraries.add(lib);
    }
  }
  coreLibraries.addAll(foundationLibraries);
  contribLibraries.removeAll(foundationLibraries);
  for (  Library lib : coreLibraries) {
    lib.addPackageList(importToLibraryTable);
  }
  for (  Library lib : contribLibraries) {
    lib.addPackageList(importToLibraryTable);
  }
}
