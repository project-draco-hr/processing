{
  if (pixels.length != width * height) {
    throw new RuntimeException("GLTexture: wrong length of pixels array");
  }
  if (glTextureID[0] == 0) {
    createTexture(width,height);
  }
  int[] convArray=pixels;
  int glFormat;
  if (format == ALPHA) {
    glFormat=GL10.GL_ALPHA;
  }
 else   if (format == RGB) {
    glFormat=GL10.GL_RGB;
  }
 else {
    glFormat=GL10.GL_RGBA;
  }
  convArray=convertToRGBA(pixels,format);
  gl.glBindTexture(glTarget,glTextureID[0]);
  if (usingMipmaps) {
    if (a3d.gl11 != null && a3d.mipmapSupported) {
      gl.glTexParameterf(GL11.GL_TEXTURE_2D,GL11.GL_GENERATE_MIPMAP,GL11.GL_TRUE);
    }
 else {
    }
  }
  gl.glTexSubImage2D(glTarget,0,0,0,glWidth,glHeight,glFormat,GL10.GL_UNSIGNED_BYTE,IntBuffer.wrap(convArray));
  gl.glBindTexture(glTarget,0);
}
