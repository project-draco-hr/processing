{
  int mult;
  if (format == 1) {
    mult=1;
  }
 else   if (format == 3) {
    mult=3;
  }
 else {
    mult=4;
  }
  int size=mult * width * height;
  if (floatArray.length != size) {
    System.err.println("Wrong size of buffer!");
    return;
  }
  FloatBuffer buffer=FloatBuffer.allocate(size);
  gl.glBindTexture(glTexTarget,glTexID[0]);
  gl.glBindTexture(glTexTarget,0);
  buffer.get(floatArray);
  if (flippedX)   flipArrayOnX(floatArray,mult);
  if (flippedY)   flipArrayOnY(floatArray,mult);
}
