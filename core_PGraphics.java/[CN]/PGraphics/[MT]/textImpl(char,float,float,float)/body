{
  int index=textFont.index(ch);
  if (index == -1)   return;
  PImage glyph=textFont.images[index];
  if (textMode == OBJECT) {
    float high=(float)textFont.height[index] / textFont.fheight;
    float bwidth=(float)textFont.width[index] / textFont.fwidth;
    float lextent=(float)textFont.leftExtent[index] / textFont.fwidth;
    float textent=(float)textFont.topExtent[index] / textFont.fheight;
    float x1=x + lextent * textSize;
    float y1=y - textent * textSize;
    float x2=x1 + bwidth * textSize;
    float y2=y1 + high * textSize;
    textImplObject(glyph,x1,y1,z,x2,y2,z,textFont.width[index],textFont.height[index]);
  }
 else   if (textMode == SCREEN) {
    int xx=(int)x + textFont.leftExtent[index];
    ;
    int yy=(int)y - textFont.topExtent[index];
    int w0=textFont.width[index];
    int h0=textFont.height[index];
    textImplScreen(glyph,xx,yy,w0,h0);
  }
}
