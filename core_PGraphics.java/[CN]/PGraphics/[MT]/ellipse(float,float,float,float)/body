{
switch (ellipseMode) {
case CENTER_RADIUS:
    break;
case CENTER:
  hradius/=2f;
vradius/=2f;
break;
case CORNER:
hradius/=2f;
vradius/=2f;
x+=hradius;
y+=vradius;
break;
case CORNERS:
hradius=(hradius - x) / 2f;
vradius=(vradius - y) / 2f;
x+=hradius;
y+=vradius;
break;
}
if (depth || !optimize2) {
ellipse3(x,y,hradius,vradius);
}
 else {
ellipse2(x,y,hradius,vradius);
}
}
