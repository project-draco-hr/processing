{
  if (!depth)   return 0;
  float az=m20 * x + m21 * y + m22 * z + m23;
  float aw=m30 * x + m31 * y + m32 * z + m33;
  return (aw != 0) ? az / aw : az;
}
