{
  Toolkit tk=Toolkit.getDefaultToolkit();
  URLConnection conn=null;
  try {
    conn=url.openConnection();
    conn.setUseCaches(false);
    conn.connect();
    if (!force) {
      conn=null;
      return tk.getImage(url);
    }
    InputStream stream=conn.getInputStream();
    BufferedInputStream bis=new BufferedInputStream(stream);
    ByteArrayOutputStream out=new ByteArrayOutputStream();
    try {
      int c=bis.read();
      while (c != -1) {
        out.write(c);
        c=bis.read();
      }
    }
 catch (    IOException e) {
      return null;
    }
    bis.close();
    return tk.createImage(out.toByteArray());
  }
 catch (  Exception e) {
    return null;
  }
}
