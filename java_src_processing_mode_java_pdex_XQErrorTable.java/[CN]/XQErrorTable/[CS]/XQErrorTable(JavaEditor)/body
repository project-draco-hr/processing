{
  this.editor=editor;
  JTableHeader header=getTableHeader();
  Font font=Toolkit.getSansFont(12,Font.PLAIN);
  setFont(font);
  header.setFont(font);
  TableColumnModel columnModel=getColumnModel();
  for (int i=0; i < columnModel.getColumnCount(); i++) {
    columnModel.getColumn(i).setPreferredWidth(columnWidths[i]);
  }
  addMouseListener(new MouseAdapter(){
    @Override synchronized public void mouseClicked(    MouseEvent e){
      try {
        int row=((XQErrorTable)e.getSource()).getSelectedRow();
        editor.getErrorChecker().scrollToErrorLine(row);
      }
 catch (      Exception e1) {
        Messages.log("Exception XQErrorTable mouseReleased " + e);
      }
    }
  }
);
  addMouseMotionListener(new MouseMotionAdapter(){
    @Override public void mouseMoved(    MouseEvent evt){
      int rowIndex=rowAtPoint(evt.getPoint());
      List<Problem> problemsList=editor.getErrorChecker().problemsList;
synchronized (problemsList) {
        if (rowIndex < problemsList.size()) {
          Problem p=problemsList.get(rowIndex);
          if (p.getImportSuggestions() != null && p.getImportSuggestions().length > 0) {
            String t=p.getMessage() + "(Import Suggestions available)";
            FontMetrics fm=getFontMetrics(getFont());
            int x1=fm.stringWidth(p.getMessage());
            int x2=fm.stringWidth(t);
            if (evt.getX() > x1 && evt.getX() < x2) {
              String[] list=p.getImportSuggestions();
              String className=list[0].substring(list[0].lastIndexOf('.') + 1);
              String[] temp=new String[list.length];
              for (int i=0; i < list.length; i++) {
                temp[i]="<html>Import '" + className + "' <font color=#777777>("+ list[i]+ ")</font></html>";
              }
              showImportSuggestion(temp,evt.getXOnScreen(),evt.getYOnScreen() - 3 * getFont().getSize());
            }
          }
        }
      }
    }
  }
);
  header.setReorderingAllowed(false);
  header.addMouseListener(new MouseAdapter(){
    @Override public void mousePressed(    MouseEvent e){
      columnResizing=true;
    }
    @Override public void mouseReleased(    MouseEvent e){
      columnResizing=false;
      TableColumnModel columnModel=((JTableHeader)e.getSource()).getColumnModel();
      for (int i=0; i < columnModel.getColumnCount(); i++) {
        columnWidths[i]=columnModel.getColumn(i).getWidth();
      }
    }
  }
);
  ToolTipManager.sharedInstance().registerComponent(this);
}
