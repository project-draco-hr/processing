{
  this.checkModifiedMode=checkModifiedMode;
  if (!sketch.modified) {
    checkModified2();
    return;
  }
  String prompt="Save changes to " + sketch.name + "?  ";
  if (checkModifiedMode != HANDLE_QUIT) {
    status.prompt(prompt);
  }
 else {
    int result=JOptionPane.showConfirmDialog(this,prompt,"Quit",JOptionPane.YES_NO_CANCEL_OPTION,JOptionPane.QUESTION_MESSAGE);
    if (result == JOptionPane.YES_OPTION) {
      handleSave(true);
      checkModified2();
    }
 else     if (result == JOptionPane.NO_OPTION) {
      checkModified2();
    }
 else     if (result == JOptionPane.CANCEL_OPTION) {
      System.out.println("canceled");
    }
  }
}
