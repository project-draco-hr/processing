{
  if (tr instanceof PMatrix2D) {
    applyMatrixOnLineGeometry((PMatrix2D)tr,first,last);
  }
 else   if (tr instanceof PMatrix3D) {
    applyMatrixOnLineGeometry((PMatrix3D)tr,first,last);
  }
}
