{
  boolean shift=e.isShiftDown();
  JavaScriptEditor jsEditor=(JavaScriptEditor)editor;
switch (index) {
case OPEN:
    JPopupMenu popup=editor.getMode().getToolbarMenu().getPopupMenu();
  popup.show(this,e.getX(),e.getY());
break;
case NEW:
if (shift) {
base.handleNew();
}
 else {
base.handleNewReplace();
}
break;
case SAVE:
jsEditor.handleSaveRequest(false);
break;
case EXPORT:
jsEditor.handleExport();
break;
}
}
