{
  keyEvent=event;
  if (event.isPrintingKey()) {
    key=(char)event.getUnicodeChar();
  }
 else {
    key=CODED;
  }
  keyCode=event.getKeyCode();
  int action=event.getAction();
  if (action == KeyEvent.ACTION_DOWN) {
    keyPressed=true;
    keyPressed();
  }
 else   if (action == KeyEvent.ACTION_UP) {
    keyPressed=false;
    keyReleased();
  }
}
