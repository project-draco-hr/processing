{
  smooth=true;
  if (antialias != level) {
    antialias=level;
    if (primarySurface) {
      restartContext();
    }
 else {
      initOffscreen();
    }
  }
  pgl.glGetIntegerv(PGL.GL_SAMPLES,getBuf);
  int newAntialias=getBuf.get(0);
  if (antialias != newAntialias) {
    antialias=newAntialias;
    PApplet.println("Effective multisampling level: " + antialias);
  }
  if (antialias < 2) {
    pgl.glEnable(PGL.GL_MULTISAMPLE);
    pgl.glEnable(PGL.GL_POINT_SMOOTH);
    pgl.glEnable(PGL.GL_LINE_SMOOTH);
    pgl.glEnable(PGL.GL_POLYGON_SMOOTH);
  }
}
