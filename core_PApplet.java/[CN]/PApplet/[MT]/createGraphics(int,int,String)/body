{
  if (renderer.equals(OPENGL)) {
    throw new RuntimeException("createGraphics() with OPENGL is not " + "supported. Use P3D instead.");
  }
  PGraphics outgoing;
  try {
    Class rendererClass=Class.forName(renderer);
    Class constructorParams[]=new Class[]{Integer.TYPE,Integer.TYPE,PApplet.class};
    Constructor constructor=rendererClass.getConstructor(constructorParams);
    Object constructorValues[]=new Object[]{new Integer(iwidth),new Integer(iheight),this};
    outgoing=(PGraphics)constructor.newInstance(constructorValues);
  }
 catch (  InvocationTargetException ite) {
    Throwable target=ite.getTargetException();
    target.printStackTrace();
    throw new RuntimeException(target.getMessage());
  }
catch (  ClassNotFoundException cnfe) {
    throw new RuntimeException("You need to use \"Import Library\" " + "to add " + renderer + " to your sketch.");
  }
catch (  Exception e) {
    e.printStackTrace();
    throw new RuntimeException("Could not start because of a " + "problem inside size()");
  }
  outgoing.defaults();
  return outgoing;
}
