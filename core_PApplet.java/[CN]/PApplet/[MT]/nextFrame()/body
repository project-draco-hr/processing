{
  mouseX=qmouseX;
  mouseY=qmouseY;
  if (fpsTarget != 0)   framerate_delay();
synchronized (g) {
    g.beginFrame();
    draw();
    if (qmouseMoved) {
      mouseMoved();
      qmouseMoved=false;
    }
    if (qmouseDragged) {
      mouseDragged();
      qmouseDragged=false;
    }
    g.endFrame();
  }
  update();
  pmouseX=mouseX;
  pmouseY=mouseY;
  frame++;
}
