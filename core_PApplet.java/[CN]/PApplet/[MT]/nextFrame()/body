{
  if (fpsTarget != 0)   framerate_delay();
synchronized (g) {
    g.beginFrame();
    draw();
    dequeueMouseEvents();
    dequeueKeyEvents();
    g.endFrame();
  }
  update();
  frame++;
}
