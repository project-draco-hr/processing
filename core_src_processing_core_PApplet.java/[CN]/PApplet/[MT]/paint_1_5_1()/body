{
  try {
    Graphics screen=getGraphics();
    if (screen != null) {
      if (g != null) {
        if (g.image != null) {
          System.out.println("active paint");
synchronized (g.image) {
            screen.drawImage(g.image,0,0,null);
          }
          Toolkit.getDefaultToolkit().sync();
        }
      }
    }
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}
