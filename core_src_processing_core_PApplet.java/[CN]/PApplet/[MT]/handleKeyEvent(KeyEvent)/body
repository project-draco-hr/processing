{
  keyEvent=event;
  key=event.getKey();
  keyCode=event.getKeyCode();
switch (event.getAction()) {
case KeyEvent.PRESSED:
    keyPressed=true;
  keyPressed();
break;
case KeyEvent.RELEASED:
keyPressed=false;
keyReleased();
break;
case KeyEvent.TYPED:
keyTyped();
break;
}
if (keyEventMethods != null) {
keyEventMethods.handle(new Object[]{event.getNative()});
}
handleMethods("keyEvent",new Object[]{event});
if (event.getAction() == KeyEvent.PRESSED) {
if (key == ESC) {
exit();
}
if (external && event.getNative() instanceof java.awt.event.KeyEvent && ((java.awt.event.KeyEvent)event.getNative()).getModifiers() == Toolkit.getDefaultToolkit().getMenuShortcutKeyMask() && event.getKeyCode() == 'W') {
exit();
}
}
}
