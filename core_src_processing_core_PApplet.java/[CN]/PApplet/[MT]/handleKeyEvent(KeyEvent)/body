{
  keyEvent=event;
  key=event.getKeyChar();
  keyCode=event.getKeyCode();
  if (keyEventMethods != null) {
    keyEventMethods.handle(new Object[]{event});
  }
switch (event.getID()) {
case KeyEvent.KEY_PRESSED:
    keyPressed=true;
  keyPressed();
break;
case KeyEvent.KEY_RELEASED:
keyPressed=false;
keyReleased();
break;
case KeyEvent.KEY_TYPED:
keyTyped();
break;
}
if (event.getID() == KeyEvent.KEY_PRESSED) {
if (key == KeyEvent.VK_ESCAPE) {
exit();
}
if (external && event.getModifiers() == MENU_SHORTCUT && event.getKeyCode() == 'W') {
exit();
}
}
}
