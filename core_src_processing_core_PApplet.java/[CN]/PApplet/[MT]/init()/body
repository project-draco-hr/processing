{
  setFocusTraversalKeysEnabled(false);
  millisOffset=System.currentTimeMillis();
  finished=false;
  looping=true;
  redraw=true;
  firstMouse=true;
  sizeMethods=new RegisteredMethods();
  preMethods=new RegisteredMethods();
  drawMethods=new RegisteredMethods();
  postMethods=new RegisteredMethods();
  mouseEventMethods=new RegisteredMethods();
  keyEventMethods=new RegisteredMethods();
  disposeMethods=new RegisteredMethods();
  try {
    getAppletContext();
    online=true;
  }
 catch (  NullPointerException e) {
    online=false;
  }
  try {
    if (sketchPath == null) {
      sketchPath=System.getProperty("user.dir");
    }
  }
 catch (  Exception e) {
  }
  Dimension size=getSize();
  if ((size.width != 0) && (size.height != 0)) {
    g=PApplet.makeGraphics(size.width,size.height,JAVA2D,null,this);
  }
 else {
    this.defaultSize=true;
    g=PApplet.makeGraphics(DEFAULT_WIDTH,DEFAULT_HEIGHT,JAVA2D,null,this);
    setSize(DEFAULT_WIDTH,DEFAULT_HEIGHT);
    setPreferredSize(new Dimension(DEFAULT_WIDTH,DEFAULT_HEIGHT));
  }
  width=g.width;
  height=g.height;
  addListeners();
  start();
}
