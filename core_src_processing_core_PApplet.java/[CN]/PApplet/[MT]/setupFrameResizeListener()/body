{
  frame.addComponentListener(new ComponentAdapter(){
    @Override public void componentResized(    ComponentEvent e){
      if (frame.isResizable()) {
        Frame farm=(Frame)e.getComponent();
        if (farm.isVisible()) {
          Insets insets=farm.getInsets();
          Dimension windowSize=farm.getSize();
          Rectangle newBounds=new Rectangle(0,0,windowSize.width - insets.left - insets.right,windowSize.height - insets.top - insets.bottom);
          Rectangle oldBounds=getBounds();
          if (!newBounds.equals(oldBounds)) {
            setBounds(newBounds);
            if (revalidateMethod != null) {
              try {
                revalidateMethod.invoke(this);
              }
 catch (              Exception ex) {
                ex.printStackTrace();
                revalidateMethod=null;
              }
            }
          }
        }
      }
    }
  }
);
}
