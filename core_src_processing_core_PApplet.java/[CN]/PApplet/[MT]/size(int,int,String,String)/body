{
  if (g == null) {
    g=PApplet.createGraphics(iwidth,iheight,irenderer,ipath,this);
    width=iwidth;
    height=iheight;
    setSize(iwidth,iheight);
  }
 else {
    if (ipath != null)     ipath=savePath(ipath);
    String currentRenderer=g.getClass().getName();
    if (currentRenderer.equals(irenderer)) {
      if (width == iwidth && height == iheight)       return;
      setRendererSize(iwidth,iheight);
      setSize(iwidth,iheight);
    }
 else {
      if (frameCount > 0) {
        throw new RuntimeException("size() cannot be called to change " + "the renderer outside of setup()");
      }
      g=PApplet.createGraphics(iwidth,iheight,irenderer,ipath,this);
      width=iwidth;
      height=iheight;
      setSize(iwidth,iheight);
      defaultSize=false;
    }
    throw new RuntimeException(NEW_RENDERER);
  }
}
