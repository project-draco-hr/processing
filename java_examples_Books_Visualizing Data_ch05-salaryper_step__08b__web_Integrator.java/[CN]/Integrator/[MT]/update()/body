{
  if (targeting) {
    force+=attraction * (target - value);
  }
  accel=force / mass;
  vel=(vel + accel) * damping;
  value+=vel;
  force=0;
  if (Math.abs(value - prev) < epsilon) {
    value=target;
    return false;
  }
  prev=value;
  return true;
}
