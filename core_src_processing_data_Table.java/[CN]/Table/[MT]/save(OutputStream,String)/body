{
  PrintWriter writer=PApplet.createWriter(output);
  if (options != null) {
    String[] opts=PApplet.splitTokens(options,", ");
    for (    String opt : opts) {
      if (opt.equals("csv")) {
        writeCSV(writer);
      }
 else       if (opt.equals("tsv")) {
        writeTSV(writer);
      }
 else       if (opt.equals("html")) {
        writeHTML(writer);
      }
 else       if (opt.equals("bin")) {
        try {
          saveBinary(output);
        }
 catch (        IOException e) {
          e.printStackTrace();
          return false;
        }
      }
 else {
        throw new IllegalArgumentException("'" + opt + "' not understood. "+ "Only csv, tsv, bin, and html are "+ "accepted as save parameters");
      }
    }
  }
  writer.close();
  return true;
}
