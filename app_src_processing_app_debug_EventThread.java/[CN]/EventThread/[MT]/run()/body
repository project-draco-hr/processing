{
  EventQueue queue=vm.eventQueue();
  while (connected) {
    try {
      EventSet eventSet=queue.remove();
      EventIterator it=eventSet.eventIterator();
      while (it.hasNext()) {
        handleEvent(it.nextEvent());
      }
      eventSet.resume();
    }
 catch (    InterruptedException exc) {
    }
catch (    VMDisconnectedException discExc) {
      handleDisconnectedException();
      break;
    }
  }
}
