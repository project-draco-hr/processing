{
  String userdir=System.getProperty("user.dir") + File.separator;
  String command[]=new String[]{((PdeBase.platform == PdeBase.MACOSX) ? userdir + "jikes" : "jikes"),"-target",PdePreferences.get("compiler.jdk_version"),"-bootclasspath",calcBootClassPath(),"-classpath",calcClassPath(includeFolder),"-nowarn","+E","-d",buildPath,buildPath + File.separator + className+ ".java"};
  firstErrorFound=false;
  secondErrorFound=false;
  int result=0;
  try {
    Process process=Runtime.getRuntime().exec(command);
    new PdeMessageSiphon(process.getInputStream(),this);
    new PdeMessageSiphon(process.getErrorStream(),this);
    boolean compiling=true;
    while (compiling) {
      try {
        result=process.waitFor();
        compiling=false;
      }
 catch (      InterruptedException intExc) {
      }
    }
  }
 catch (  Exception e) {
    String msg=e.getMessage();
    if ((msg != null) && (msg.indexOf("jikes: not found") != -1)) {
      PdeBase.showWarning("Compiler error","Could not find the compiler.\n" + "jikes is missing from your PATH,\n" + "see readme.txt for help.",null);
      return false;
    }
    e.printStackTrace();
    result=-1;
  }
  if (result != 0 && result != 1) {
    exception=new PdeException(SUPER_BADNESS);
    editor.error(exception);
    PdeBase.openURL(BUGS_URL);
  }
  return (result == 0) ? true : false;
}
