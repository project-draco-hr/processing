{
  Hashtable table=new Hashtable();
  String pieces[]=PApplet.split(path,File.pathSeparatorChar);
  for (int i=0; i < pieces.length; i++) {
    if (pieces[i].length() == 0)     continue;
    if (pieces[i].toLowerCase().endsWith(".jar") || pieces[i].toLowerCase().endsWith(".zip")) {
      packageListFromZip(pieces[i],table);
    }
 else {
      File dir=new File(pieces[i]);
      if (dir.exists() && dir.isDirectory()) {
        packageListFromFolder(dir,null,table);
      }
    }
  }
  int tableCount=table.size();
  String output[]=new String[tableCount];
  int index=0;
  Enumeration e=table.keys();
  while (e.hasMoreElements()) {
    output[index++]=((String)e.nextElement()).replace('/','.');
  }
  return output;
}
