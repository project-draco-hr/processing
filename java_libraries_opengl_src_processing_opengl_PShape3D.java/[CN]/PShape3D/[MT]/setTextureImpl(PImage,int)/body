{
  if (unit < 0 || PGraphicsOpenGL.maxTextureUnits <= unit) {
    System.err.println("PShape3D: Wrong texture unit.");
    return;
  }
  if (numTexBuffers <= unit) {
    root.addTexBuffers(unit - numTexBuffers + 1);
  }
  if (tex == null) {
    throw new RuntimeException("PShape3D: trying to set null texture.");
  }
  if (texCoordSet[unit] && isTexturable()) {
    loadTexcoords(unit);
    textures[unit]=tex;
    updateTexcoords();
  }
 else {
    textures[unit]=tex;
  }
}
