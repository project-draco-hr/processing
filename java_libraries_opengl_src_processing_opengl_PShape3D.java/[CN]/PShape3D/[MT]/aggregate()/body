{
  if (root == this && parent == null) {
    lastVertexOffset=0;
    lastIndexOffset=0;
    lastStrokeVertexOffset=0;
    lastStrokeIndexOffset=0;
    aggregateImpl();
    if (0 < vertexCount && 0 < indexCount) {
      initBuffers(vertexCount,indexCount);
      copyVertOffset=0;
      copyIndOffset=0;
      copyGeometryToRoot();
    }
    if (0 < strokeVertexCount && 0 < strokeIndexCount) {
      initStrokeBuffers(strokeVertexCount,strokeIndexCount);
      strokeVertCopyOffset=0;
      strokeIndCopyOffset=0;
      copyStrokeGeometryToRoot();
    }
  }
}
