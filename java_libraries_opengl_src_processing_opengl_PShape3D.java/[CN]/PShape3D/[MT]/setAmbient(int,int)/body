{
  updateTessellation();
  ambient=PGL.javaToNativeARGB(ambient);
  if (haveFill) {
    int[] colors=tessGeo.fillAmbient;
    if (-1 < inGeo.tessMap.firstFillIndex) {
      int tessIdx=inGeo.tessMap.firstFillIndex + index;
      colors[tessIdx]=ambient;
      root.setModifiedFillAmbient(tessIdx,tessIdx);
    }
 else {
      int[] indices=inGeo.tessMap.fillIndices[index];
      float[] weights=inGeo.tessMap.fillWeights[index];
      int ambient0=inGeo.ambient[index];
      setColorRGB(colors,ambient,ambient0,indices,weights);
      for (int i=0; i < indices.length; i++) {
        int tessIdx=indices[i];
        if (-1 < tessIdx) {
          root.setModifiedFillAmbient(tessIdx,indices[i]);
        }
      }
    }
  }
  inGeo.ambient[index]=ambient;
}
