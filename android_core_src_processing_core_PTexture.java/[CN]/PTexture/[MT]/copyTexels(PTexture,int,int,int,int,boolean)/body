{
  if (tex == null) {
    throw new RuntimeException("PTexture: source texture is null");
  }
  if (tempFbo == null) {
    tempFbo=new PFramebuffer(parent,glWidth,glHeight);
  }
  tempFbo.setColorBuffer(this);
  tempFbo.disableDepthTest();
  renderer.pushFramebuffer();
  renderer.setFramebuffer(tempFbo);
  if (scale) {
    renderer.drawTexture(tex,x,y,w,h,0,0,width,height);
  }
 else {
    renderer.drawTexture(tex,x,y,w,h,x,y,w,h);
  }
  renderer.popFramebuffer();
}
