{
  updatePrimary();
  pgl.beginDraw(clearColorBuffer);
  if (drawFramebuffer == null) {
    drawFramebuffer=new FrameBuffer(width,height,true);
  }
  drawFramebuffer.setFBO(pgl.getDrawFramebuffer());
  if (readFramebuffer == null) {
    readFramebuffer=new FrameBuffer(width,height,true);
  }
  readFramebuffer.setFBO(pgl.getReadFramebuffer());
  if (currentFramebuffer == null) {
    setFramebuffer(drawFramebuffer);
  }
  if (pgl.isFBOBacked()) {
    if (texture == null) {
      texture=pgl.wrapBackTexture();
    }
 else {
      texture.glName=pgl.getBackTextureName();
    }
    if (ptexture == null) {
      ptexture=pgl.wrapFrontTexture();
    }
 else {
      ptexture.glName=pgl.getFrontTextureName();
    }
  }
}
