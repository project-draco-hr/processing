{
  pgl.beginDraw(clearColorBuffer);
  if (drawFramebuffer == null) {
    drawFramebuffer=new FrameBuffer(this,width,height,true);
  }
  drawFramebuffer.setFBO(pgl.getDrawFramebuffer());
  if (readFramebuffer == null) {
    readFramebuffer=new FrameBuffer(this,width,height,true);
  }
  readFramebuffer.setFBO(pgl.getReadFramebuffer());
  if (currentFramebuffer == null) {
    setFramebuffer(drawFramebuffer);
  }
  if (pgl.isFBOBacked()) {
    texture=pgl.wrapBackTexture(texture);
    ptexture=pgl.wrapFrontTexture(ptexture);
    if (texture.glWidth != width || texture.glHeight != height) {
      PGraphics.showWarning(TEXTURE_SIZE_ERROR);
    }
  }
}
