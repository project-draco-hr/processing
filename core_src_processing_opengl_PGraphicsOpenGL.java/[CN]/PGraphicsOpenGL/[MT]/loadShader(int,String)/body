{
  PShader shader;
  if (kind == PShader.FLAT) {
    shader=new PolyFlatShader(parent);
    shader.setVertexShader(defPolyFlatShaderVertURL);
  }
 else   if (kind == PShader.LIT) {
    shader=new PolyLightShader(parent);
    shader.setVertexShader(defPolyLightShaderVertURL);
  }
 else   if (kind == PShader.TEXTURED) {
    shader=new PolyTexShader(parent);
    shader.setVertexShader(defPolyTexShaderVertURL);
  }
 else   if (kind == PShader.FULL) {
    shader=new PolyFullShader(parent);
    shader.setVertexShader(defPolyFullShaderVertURL);
  }
 else   if (kind == PShader.LINE) {
    shader=new LineShader(parent);
    shader.setVertexShader(defLineShaderVertURL);
  }
 else   if (kind == PShader.POINT) {
    shader=new PointShader(parent);
    shader.setVertexShader(defPointShaderVertURL);
  }
 else {
    PGraphics.showWarning("loadShader(" + kind + ") is not valid.");
    return null;
  }
  shader.setFragmentShader(fragFilename);
  return shader;
}
