{
  String[] source=parent.loadStrings(filename);
  int type=-1;
  for (int i=0; i < source.length; i++) {
    String line=source[i].trim();
    if (line.indexOf("#define PROCESSING_POINT_SHADER") == 0) {
      type=PShader.POINT;
    }
 else     if (line.indexOf("#define PROCESSING_LINE_SHADER") == 0) {
      type=PShader.LINE;
    }
 else     if (line.indexOf("#define PROCESSING_COLOR_SHADER") == 0) {
      type=PShader.COLOR;
    }
 else     if (line.indexOf("#define PROCESSING_LIGHT_SHADER") == 0) {
      type=PShader.LIGHT;
    }
 else     if (line.indexOf("#define PROCESSING_TEXTURE_SHADER") == 0) {
      type=PShader.TEXTURE;
    }
 else     if (line.indexOf("#define PROCESSING_TEXLIGHT_SHADER") == 0) {
      type=PShader.TEXLIGHT;
    }
  }
  return type;
}
