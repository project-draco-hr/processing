{
  if (fragFilename == null || fragFilename.equals("")) {
    PGraphics.showWarning(MISSING_FRAGMENT_SHADER);
    return null;
  }
  int type=getShaderType(fragFilename,PShader.POLY);
  PShader shader=new PShader(parent);
  shader.setType(type);
  shader.setFragmentShader(fragFilename);
  if (type == PShader.POINT) {
    shader.setVertexShader(defPointShaderVertURL);
  }
 else   if (type == PShader.LINE) {
    shader.setVertexShader(defLineShaderVertURL);
  }
 else   if (type == PShader.TEXLIGHT) {
    shader.setVertexShader(defTexlightShaderVertURL);
  }
 else   if (type == PShader.LIGHT) {
    shader.setVertexShader(defLightShaderVertURL);
  }
 else   if (type == PShader.TEXTURE) {
    shader.setVertexShader(defTextureShaderVertURL);
  }
 else   if (type == PShader.COLOR) {
    shader.setVertexShader(defColorShaderVertURL);
  }
 else {
    shader.setVertexShader(defTextureShaderVertURL);
  }
  return shader;
}
