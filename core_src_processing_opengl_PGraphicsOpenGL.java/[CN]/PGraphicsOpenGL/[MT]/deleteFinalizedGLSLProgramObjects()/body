{
  Set<GLResource> finalized=new HashSet<GLResource>();
  for (  GLResource res : glslPrograms.keySet()) {
    if (glslPrograms.get(res)) {
      finalized.add(res);
      if (pgl.threadIsCurrent())       pgl.deleteProgram(res.id);
    }
  }
  for (  GLResource res : finalized) {
    glslPrograms.remove(res);
  }
}
