{
  flush();
  if (shader instanceof PolyTexShader) {
    polyTexShader=(PolyTexShader)shader;
  }
 else   if (shader instanceof PolyFlatShader) {
    polyFlatShader=(PolyFlatShader)shader;
  }
 else   if (shader instanceof PolyFullShader) {
    polyFullShader=(PolyFullShader)shader;
  }
 else   if (shader instanceof PolyLightShader) {
    polyLightShader=(PolyLightShader)shader;
  }
 else   if (shader instanceof LineShader) {
    lineShader=(LineShader)shader;
  }
 else   if (shader instanceof PointShader) {
    pointShader=(PointShader)shader;
  }
 else {
    showWarning("shader() called with an unknown shader type");
  }
}
