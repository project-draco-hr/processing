{
  if (!initialized) {
    initOffscreen();
  }
 else {
    boolean outdated=offscreenFramebuffer != null && offscreenFramebuffer.contextIsOutdated();
    boolean outdatedMulti=multisampleFramebuffer != null && multisampleFramebuffer.contextIsOutdated();
    if (outdated || outdatedMulti) {
      restartPGL();
      initOffscreen();
    }
 else {
      swapOffscreenTextures();
    }
  }
  pushFramebuffer();
  if (offscreenMultisample) {
    setFramebuffer(multisampleFramebuffer);
  }
 else {
    setFramebuffer(offscreenFramebuffer);
  }
}
