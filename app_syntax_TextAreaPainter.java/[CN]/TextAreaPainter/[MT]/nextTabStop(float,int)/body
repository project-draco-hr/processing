{
  int offset=textArea.getHorizontalOffset();
  int ntabs=((int)x - offset) / tabSize;
  return (ntabs + 1) * tabSize + offset;
}
