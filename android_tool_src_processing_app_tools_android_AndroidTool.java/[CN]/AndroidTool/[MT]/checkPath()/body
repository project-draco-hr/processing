{
  final String canonicalTools;
  try {
    canonicalTools=sdk.getTools().getCanonicalPath();
  }
 catch (  final IOException unexpected) {
    Base.showWarning("Android Tools Error","Unexpected internal error.",unexpected);
    return false;
  }
  final String envPath=Base.getPlatform().getenv("PATH");
  for (  String entry : PApplet.split(envPath,File.pathSeparatorChar)) {
    entry=entry.trim();
    if (entry.length() == 0) {
      continue;
    }
    final Matcher m=quotedPathElement.matcher(entry);
    if (m.matches()) {
      entry=m.group(1);
    }
    try {
      if (canonicalTools.equals(new File(entry).getCanonicalPath())) {
        return true;
      }
    }
 catch (    final IOException unexpected) {
      System.err.println(unexpected);
    }
  }
  Base.showWarning("Android Tools Error","You need to add the tools folder of the Android SDK\n" + "to your PATH environment variable and restart Processing.\n" + "The folder is: " + sdk.getTools().getAbsolutePath() + ".",null);
  return false;
}
