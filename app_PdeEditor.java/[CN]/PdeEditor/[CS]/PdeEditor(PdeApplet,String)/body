{
  this.app=app;
  setLayout(new BorderLayout());
  Color bgColor=PdeApplet.getColor("editor.bgcolor",new Color(51,102,153));
  Color tickColor=PdeApplet.getColor("editor.tick_color",new Color(204,204,204));
  Color gutterBgColor=PdeApplet.getColor("editor.gutter_bgcolor",new Color(0,51,102));
  Color buttonBgColor=PdeApplet.getColor("editor.button_bgcolor",new Color(153,153,153));
  Color statusBgColor=PdeApplet.getColor("editor.status_bgcolor",new Color(204,204,204));
  Panel top=new Panel();
  top.setBackground(buttonBgColor);
  top.setLayout(new BorderLayout());
  buttons=new PdeEditorButtons(this);
  buttons.setBackground(buttonBgColor);
  top.add("West",buttons);
  Label buttonStatus=new Label(PdeEditorButtons.EMPTY_STATUS,Label.RIGHT);
  buttonStatus.setBackground(buttonBgColor);
  top.add("East",buttonStatus);
  buttons.status=buttonStatus;
  Panel statusPanel=new Panel();
  statusPanel.setBackground(statusBgColor);
  statusPanel.setLayout(new FlowLayout(FlowLayout.LEFT));
  statusPanel.add(status=new Label(EMPTY));
  top.add("South",statusPanel);
  add("North",top);
  if (program == null)   program=DEFAULT_PROGRAM;
  textarea=new TextArea(program,20,48,TextArea.SCROLLBARS_VERTICAL_ONLY);
  textarea.setFont(PdeApplet.getFont("editor"));
  add("Center",textarea);
  if (!PdeApplet.isMacintosh()) {
    PdeEditorListener listener=new PdeEditorListener();
    textarea.addKeyListener(listener);
    textarea.addFocusListener(listener);
    textarea.addKeyListener(new PdeKeyListener(this));
  }
  runner=new PdeRunner(this);
}
