{
  JMenuItem item;
  JMenu menu=new Menu("File");
  item=newMenuItem("New",'N');
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      skNew();
    }
  }
);
  menu.add(item);
  sketchbookMenu=new Menu("Open");
  menu.add(sketchbookMenu);
  saveMenuItem=newMenuItem("Save",'S');
  saveMenuItem.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      doSave();
    }
  }
);
  menu.add(saveMenuItem);
  saveAsMenuItem=newMenuItem("Save as...",'S',true);
  saveAsMenuItem.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      skSaveAs(false);
    }
  }
);
  menu.add(saveAsMenuItem);
  item=new MenuItem("Rename...");
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      skSaveAs(true);
    }
  }
);
  menu.add(item);
  exportMenu=buildExportMenu();
  menu.add(exportMenu);
  if (PdeBase.platform != PdeBase.MACOSX) {
    item=new JMenuItem("Preferences");
    item.addActionListener(new ActionListener(){
      public void actionPerformed(      ActionEvent e){
        handlePrefs();
      }
    }
);
    menu.add(item);
    menu.addSeparator();
    item=newMenuItem("Quit",'Q');
    item.addActionListener(new ActionListener(){
      public void actionPerformed(      ActionEvent e){
        handleQuit();
      }
    }
);
    menu.add(item);
  }
  return menu;
}
