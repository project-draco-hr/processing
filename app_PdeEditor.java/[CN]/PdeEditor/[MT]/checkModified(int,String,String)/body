{
  this.checking=checking;
  openingPath=path;
  openingName=name;
  if (sketch.isModified()) {
    String prompt="Save changes to " + sketch.name + "?  ";
    if (checking != HANDLE_QUIT) {
      status.prompt(prompt);
    }
 else {
      Object[] options={"Yes","No"};
      int result=JOptionPane.showOptionDialog(this,prompt,"Quit",JOptionPane.YES_NO_OPTION,JOptionPane.QUESTION_MESSAGE,null,options,options[0]);
      if (result == JOptionPane.YES_OPTION) {
        sketch.save();
        checkModified2();
      }
 else       if (result == JOptionPane.NO_OPTION) {
        checkModified2();
      }
 else       if (result == JOptionPane.CANCEL_OPTION) {
      }
    }
  }
 else {
    checkModified2();
  }
}
