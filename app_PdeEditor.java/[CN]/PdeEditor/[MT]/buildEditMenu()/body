{
  JMenu menu=new JMenu("Edit");
  JMenuItem item;
  undoItem=newJMenuItem("Undo",'Z');
  undoItem.addActionListener(undoAction=new UndoAction());
  menu.add(undoItem);
  redoItem=newJMenuItem("Redo",'Y');
  redoItem.addActionListener(redoAction=new RedoAction());
  menu.add(redoItem);
  menu.addSeparator();
  item=newJMenuItem("Cut",'X');
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      textarea.cut();
      sketch.setModified();
    }
  }
);
  menu.add(item);
  item=newJMenuItem("Copy",'C');
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      textarea.copy();
    }
  }
);
  menu.add(item);
  item=newJMenuItem("Paste",'V');
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      textarea.paste();
      sketch.setModified();
    }
  }
);
  menu.add(item);
  item=newJMenuItem("Select All",'A');
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      textarea.selectAll();
    }
  }
);
  menu.add(item);
  beautifyMenuItem=newJMenuItem("Beautify",'B');
  beautifyMenuItem.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      handleBeautify();
    }
  }
);
  menu.add(beautifyMenuItem);
  menu.addSeparator();
  item=newJMenuItem("Find...",'F');
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      find.show();
    }
  }
);
  menu.add(item);
  item=newJMenuItem("Find Next",'G');
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      find.find(true);
    }
  }
);
  menu.add(item);
  return menu;
}
