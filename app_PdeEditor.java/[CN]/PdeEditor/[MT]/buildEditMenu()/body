{
  JMenu menu=new JMenu("Edit");
  JMenuItem item;
  undoItem=newMenuItem("Undo",'Z');
  undoItem.addActionListener(undoAction=new UndoAction());
  menu.add(undoItem);
  redoItem=newMenuItem("Redo",'Y');
  redoItem.addActionListener(redoAction=new RedoAction());
  menu.add(redoItem);
  menu.addSeparator();
  item=newMenuItem("Cut",'X');
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      textarea.cut();
    }
  }
);
  menu.add(item);
  item=newMenuItem("Copy",'C');
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      textarea.copy();
    }
  }
);
  menu.add(item);
  item=newMenuItem("Paste",'V');
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      textarea.paste();
    }
  }
);
  menu.add(item);
  item=newMenuItem("Select All",'A');
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      textarea.selectAll();
    }
  }
);
  menu.add(item);
  beautifyMenuItem=newMenuItem("Beautify",'B');
  beautifyMenuItem.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      doBeautify();
    }
  }
);
  menu.add(beautifyMenuItem);
  menu.addSeparator();
  item=newMenuItem("Find...",'F');
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      find();
    }
  }
);
  menu.add(item);
  item=newMenuItem("Find Next",'G');
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      findNext();
    }
  }
);
  menu.add(item);
  item=newMenuItem("Find in Reference",'F',true);
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      if (textarea.isSelectionActive()) {
        String text=textarea.getSelectedText();
        if (text.length() == 0) {
          message("First select a word to find in the reference.");
        }
 else {
          String referenceFile=PdeKeywords.getReference(text);
          if (referenceFile == null) {
            message("No reference available for \"" + text + "\"");
          }
 else {
            PdeBase.showReference(referenceFile);
          }
        }
      }
    }
  }
);
  menu.add(item);
  return menu;
}
