{
  doClose();
  running=true;
  buttons.run();
  for (int i=0; i < 10; i++)   System.out.println();
  if (PdePreferences.getBoolean("console.auto_clear")) {
    console.clear();
  }
  presenting=present;
  if (presenting) {
    presentationWindow.show();
    presentationWindow.toFront();
  }
  final SwingWorker worker=new SwingWorker(){
    public Object construct(){
      try {
        if (!sketch.handleRun())         return null;
        runtime=new PdeRuntime(sketch,PdeEditor.this);
        runtime.start(presenting ? presentLocation : appletLocation);
        watcher=new RunButtonWatcher();
      }
 catch (      PdeException e) {
        error(e);
      }
catch (      Exception e) {
        e.printStackTrace();
      }
      return null;
    }
  }
;
  worker.start();
}
