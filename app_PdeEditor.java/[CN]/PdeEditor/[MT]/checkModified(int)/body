{
  this.checkModifiedMode=checkModifiedMode;
  if (!sketch.modified) {
    checkModified2();
    return;
  }
  String prompt="Save changes to " + sketch.name + "?  ";
  if (checkModifiedMode != HANDLE_QUIT) {
    status.prompt(prompt);
  }
 else {
    Object[] options={"Yes","No"};
    int result=JOptionPane.showOptionDialog(this,prompt,"Quit",JOptionPane.YES_NO_OPTION,JOptionPane.QUESTION_MESSAGE,null,options,options[0]);
    if (result == JOptionPane.YES_OPTION) {
      handleSave2();
      checkModified2();
    }
 else     if (result == JOptionPane.NO_OPTION) {
      checkModified2();
    }
 else     if (result == JOptionPane.CANCEL_OPTION) {
    }
  }
}
