{
  if (!isketchFile.exists()) {
    status.error("no file named " + isketchName);
    return;
  }
  try {
    FileInputStream input=new FileInputStream(isketchFile);
    int length=(int)isketchFile.length();
    String program="";
    if (length != 0) {
      byte data[]=new byte[length];
      int count=0;
      while (count != length) {
        data[count++]=(byte)input.read();
      }
      program=new String(data);
      textarea.editorSetText(program);
    }
 else {
      textarea.editorSetText("");
    }
    sketchName=isketchName;
    sketchFile=isketchFile;
    sketchDir=isketchDir;
    setSketchModified(false);
    historyFile=new File(sketchFile.getParent(),"history.gz");
    base.rebuildHistoryMenu(historyFile.getPath());
    historyLast=program;
    header.reset();
    presentLocation=null;
    appletLocation=null;
  }
 catch (  FileNotFoundException e1) {
    e1.printStackTrace();
  }
catch (  IOException e2) {
    e2.printStackTrace();
  }
  buttons.clear();
}
