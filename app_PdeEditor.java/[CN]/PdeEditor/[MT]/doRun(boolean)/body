{
  doClose();
  running=true;
  buttons.run();
  try {
    String program=textarea.getText();
    if (program.length() != 0) {
      String buildPath="lib" + File.separator + "build";
      File buildDir=new File(buildPath);
      if (!buildDir.exists())       buildDir.mkdirs();
      String dataPath=sketchFile.getParent() + File.separator + "data";
      engine=new KjcEngine(this,program,buildPath,dataPath);
      engine.start();
    }
  }
 catch (  PdeException e) {
    engine.stop();
    e.printStackTrace();
    error(e);
  }
catch (  Exception e) {
    e.printStackTrace();
    engine.stop();
  }
}
