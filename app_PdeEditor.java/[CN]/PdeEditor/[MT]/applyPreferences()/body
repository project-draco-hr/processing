{
  boolean external=getBoolean("editor.external");
  textarea.setEditable(!external);
  saveMenuItem.setEnabled(!external);
  saveAsMenuItem.setEnabled(!external);
  beautifyMenuItem.setEnabled(!external);
  TextAreaPainter painter=textarea.getPainter();
  if (external) {
    Color bg=PdePreferences.getColor("editor.program.bgcolor.external");
    painter.setBackground(bg);
    painter.lineHighlight=false;
    textarea.setCaretVisible(false);
  }
 else {
    painter.setBackground(PdePreferences.getColor("editor.program.bgcolor"));
    painter.lineHighlight=PdePreferences.getBoolean("editor.program.linehighlight");
    textarea.setCaretVisible(true);
  }
}
