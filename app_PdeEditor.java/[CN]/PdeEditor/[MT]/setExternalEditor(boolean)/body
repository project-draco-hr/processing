{
  this.externalEditor=external;
  textarea.setEditable(!external);
  base.externalEditorItem.setState(external);
  base.saveMenuItem.setEnabled(!external);
  base.saveAsMenuItem.setEnabled(!external);
  base.beautifyMenuItem.setEnabled(!external);
  TextAreaPainter painter=textarea.getPainter();
  if (external) {
    painter.setBackground(PdeBase.getColor("editor.program.bgcolor.external",new Color(204,204,204)));
    painter.lineHighlight=false;
    textarea.setCaretVisible(false);
  }
 else {
    painter.setBackground(PdeBase.getColor("editor.program.bgcolor",Color.white));
    painter.lineHighlight=PdeBase.getBoolean("editor.program.linehighlight.enabled",true);
    textarea.setCaretVisible(true);
  }
}
