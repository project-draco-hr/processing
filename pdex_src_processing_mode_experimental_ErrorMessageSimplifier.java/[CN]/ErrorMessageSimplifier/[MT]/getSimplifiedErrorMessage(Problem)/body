{
  if (problem == null)   return null;
  IProblem iprob=problem.getIProblem();
  String args[]=iprob.getArguments();
  log("Simplifying message: " + problem.getMessage() + " ID: "+ getIDName(iprob.getID()));
  log("Arg count: " + args.length);
  for (int i=0; i < args.length; i++) {
    log("Arg " + args[i]);
  }
  String result=null;
switch (iprob.getID()) {
case IProblem.ParsingError:
    if (args.length > 0) {
      if (problem.getMessage().endsWith("expected")) {
        result="Probably a \"" + args[args.length - 1] + "\" should go here";
      }
 else {
        result="Problem with code syntax: Consider removing \"" + args[0] + "\"";
      }
      break;
    }
case IProblem.ParsingErrorInsertToComplete:
  if (args.length > 0) {
switch (args[0].charAt(0)) {
case ';':
      result="You're missing a semi-colon \";\"";
    break;
case '[':
  result="I sense a missing opening square bracket \"[\"";
break;
case ']':
result="Looks like you forgot to close your square bracket \"]\"";
break;
case '(':
result="I sense a missing opening square bracket \"(\"";
break;
case ')':
result="Looks like you forgot to close your parentheses \")\"";
break;
case '{':
result="I sense a missing opening curly brace \";\"";
break;
case '}':
result="Looks like you forgot to close your curly brace \";\"";
break;
default :
result="Consider adding a \"" + args[0] + "\"";
}
break;
}
case IProblem.ParsingErrorInsertTokenAfter:
if (args.length > 0) {
switch (args[1].charAt(0)) {
case ';':
result="You're missing a semi-colon \";\"";
break;
case '[':
result="I sense a missing opening square bracket \"[\"";
break;
case ']':
result="Looks like you forgot to close your square bracket \"]\"";
break;
case '(':
result="I sense a missing opening square bracket \"(\"";
break;
case ')':
result="Looks like you forgot to close your parentheses \")\"";
break;
case '{':
result="I sense a missing opening curly brace \";\"";
break;
case '}':
result="Looks like you forgot to close your curly brace \";\"";
break;
default :
result="Consider adding a \"" + args[1] + "\"";
}
break;
}
case IProblem.UndefinedMethod:
if (args.length > 2) {
result="I don't know the function \"" + args[args.length - 2] + "\"";
}
break;
case IProblem.ParameterMismatch:
if (args.length > 3) {
if (args[2].trim().length() == 0) {
result="The method \"" + args[1] + "\" doesn't expect any parameters";
}
 else {
result="The method \"" + args[1] + "\" expects parameters ("+ getSimpleName(args[2])+ ")";
}
}
break;
}
log("Simplified Error Msg: " + result);
if (result == null) return problem.getMessage();
return result;
}
