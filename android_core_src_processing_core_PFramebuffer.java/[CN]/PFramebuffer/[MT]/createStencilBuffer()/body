{
  if (screenFb)   return;
  if (width == 0 || height == 0) {
    throw new RuntimeException("PFramebuffer: size undefined.");
  }
  if (fboMode) {
    renderer.pushFramebuffer();
    renderer.setFramebuffer(this);
    glStencilBufferID=renderer.createRenderBufferObject();
    pgl.bindRenderbuffer(glStencilBufferID);
    int glConst=PGL.STENCIL_1BIT;
    if (stencilBits == 1) {
      glConst=PGL.STENCIL_1BIT;
    }
 else     if (stencilBits == 4) {
      glConst=PGL.STENCIL_4BIT;
    }
 else     if (stencilBits == 8) {
      glConst=PGL.STENCIL_8BIT;
    }
    if (multisample) {
      pgl.setRenderbufferNumSamples(nsamples,glConst,width,height);
    }
 else {
      pgl.setRenderbufferStorage(glConst,width,height);
    }
    pgl.setRenderbufferStencilAttachment(glStencilBufferID);
    renderer.popFramebuffer();
  }
}
