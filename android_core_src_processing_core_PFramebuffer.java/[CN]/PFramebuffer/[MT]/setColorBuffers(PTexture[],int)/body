{
  if (screenFb)   return;
  if (FboMode) {
    a3d.pushFramebuffer();
    a3d.setFramebuffer(this);
    for (int i=0; i < numColorBuffers; i++) {
      gl11xp.glFramebufferTexture2DOES(GL11ExtensionPack.GL_FRAMEBUFFER_OES,GL11ExtensionPack.GL_COLOR_ATTACHMENT0_OES + i,GL10.GL_TEXTURE_2D,0,0);
    }
    numColorBuffers=PApplet.min(n,textures.length);
    colorBufferAttchPoints=new int[numColorBuffers];
    glColorBufferTargets=new int[numColorBuffers];
    glColorBufferIDs=new int[numColorBuffers];
    for (int i=0; i < numColorBuffers; i++) {
      colorBufferAttchPoints[i]=GL11ExtensionPack.GL_COLOR_ATTACHMENT0_OES + i;
      glColorBufferTargets[i]=textures[i].getGLTarget();
      glColorBufferIDs[i]=textures[i].getGLID();
      gl11xp.glFramebufferTexture2DOES(GL11ExtensionPack.GL_FRAMEBUFFER_OES,colorBufferAttchPoints[i],glColorBufferTargets[i],glColorBufferIDs[i],0);
    }
    if (validFbo() && textures != null && 0 < textures.length) {
      width=textures[0].getGLWidth();
      height=textures[0].getGLHeight();
    }
    a3d.popFramebuffer();
  }
 else {
    numColorBuffers=PApplet.min(n,textures.length);
    glColorBufferTargets=new int[numColorBuffers];
    glColorBufferIDs=new int[numColorBuffers];
    for (int i=0; i < numColorBuffers; i++) {
      glColorBufferTargets[i]=textures[i].getGLTarget();
      glColorBufferIDs[i]=textures[i].getGLID();
    }
  }
}
