{
  this.parent=parent;
  a3d=(PGraphicsAndroid3D)parent.g;
  if (a3d.gl11xp == null) {
    throw new RuntimeException("PFramebuffer: OpenGL ES 1.1 Extension Pack required");
  }
  a3d.registerPGLObject(this);
  glFboID=0;
  glDepthBufferID=0;
  glStencilBufferID=0;
  fboMode=PGraphicsAndroid3D.fboSupported;
  if (screen) {
    depthBits=stencilBits=samples=colorBuffers=0;
  }
  width=w;
  height=h;
  numColorBuffers=colorBuffers;
  colorBufferAttchPoints=new int[numColorBuffers];
  colorBufferTex=new PTexture[numColorBuffers];
  for (int i=0; i < numColorBuffers; i++) {
    colorBufferAttchPoints[i]=GL11ExtensionPack.GL_COLOR_ATTACHMENT0_OES + i;
    colorBufferTex[i]=null;
  }
  if (depthBits < 1 && stencilBits < 1) {
    this.depthBits=0;
    this.stencilBits=0;
  }
 else {
    this.depthBits=depthBits;
    this.stencilBits=stencilBits;
  }
  screenFb=screen;
  allocate();
  noDepth=false;
  pixelBuffer=null;
  if (!screenFb && !fboMode) {
    backupTexture=new PTexture(parent,width,height,new PTexture.Parameters(ARGB,POINT));
  }
}
