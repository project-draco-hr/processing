{
  this.parent=parent;
  a3d=(PGraphicsAndroid3D)parent.g;
  screenFb=screen;
  noDepth=false;
  FboMode=PGraphicsAndroid3D.fboSupported;
  numColorBuffers=0;
  gl=a3d.gl;
  gl11xp=a3d.gl11xp;
  if (gl11xp == null) {
    throw new RuntimeException("PFramebuffer: OpenGL ES 1.1 Extension Pack required");
  }
  initFramebuffer(w,h);
  pixelBuffer=IntBuffer.allocate(width * height);
  pixelBuffer.rewind();
  if (!screenFb && !FboMode) {
    backupTexture=new PTexture(parent,width,height,new PTexture.Parameters(ARGB,NEAREST));
  }
  try {
    Method meth=this.getClass().getMethod("recreateResource",new Class[]{PGraphicsAndroid3D.class});
    recreateResourceIdx=a3d.addRecreateResourceMethod(this,meth);
  }
 catch (  Exception e) {
    recreateResourceIdx=-1;
  }
}
