{
  String searchTerm=findField.getText();
  if (searchTerm.length() == 0)   return false;
  String text=editor.getText();
  if (ignoreCase) {
    searchTerm=searchTerm.toLowerCase();
    text=text.toLowerCase();
  }
  int nextIndex;
  if (!backwards) {
    int selectionEnd=editor.getSelectionStop();
    nextIndex=text.indexOf(searchTerm,selectionEnd);
    if (nextIndex == -1 && wrap) {
      nextIndex=text.indexOf(searchTerm,0);
    }
  }
 else {
    int selectionStart=editor.getSelectionStart() - 1;
    if (selectionStart >= 0) {
      nextIndex=text.lastIndexOf(searchTerm,selectionStart);
    }
 else {
      nextIndex=-1;
    }
    if (wrap && nextIndex == -1) {
      nextIndex=text.lastIndexOf(searchTerm);
    }
  }
  if (nextIndex != -1) {
    editor.setSelection(nextIndex,nextIndex + searchTerm.length());
  }
 else {
  }
  return nextIndex != -1;
}
