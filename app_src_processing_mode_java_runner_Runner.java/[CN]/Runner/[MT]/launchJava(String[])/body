{
  new Thread(new Runnable(){
    public void run(){
      process=PApplet.exec(args);
      try {
        int result=process.waitFor();
        if (result != 0) {
          String[] errorStrings=PApplet.loadStrings(process.getErrorStream());
          String[] inputStrings=PApplet.loadStrings(process.getInputStream());
          PApplet.printArray(inputStrings);
          if (errorStrings != null && errorStrings.length > 1) {
            if (errorStrings[0].indexOf("Invalid maximum heap size") != -1) {
              Base.showWarning("Way Too High","Please lower the value for \u201Cmaximum available memory\u201D in the\n" + "Preferences window. For more information, read Help \u2192 Troubleshooting.",null);
            }
 else {
              for (              String err : errorStrings) {
                System.err.println(err);
              }
              System.err.println("Using startup command: " + PApplet.join(args," "));
            }
          }
 else {
            System.err.println("Could not run the sketch (Target VM failed to initialize).");
            if (Preferences.getBoolean("run.options.memory")) {
              System.err.println("Make sure that you haven't set the maximum available memory too high.");
            }
            System.err.println("For more information, read revisions.txt and Help \u2192 Troubleshooting.");
          }
          listener.statusError("Could not run the sketch.");
        }
      }
 catch (      InterruptedException e) {
        e.printStackTrace();
      }
    }
  }
).start();
}
