{
  textArea.getLineText(currentLineIndex,currentLine);
  currentLineTokens=tokenMarker.markTokens(currentLine,currentLineIndex);
  paintHighlight(gfx,line,y);
  gfx.setFont(defaultFont);
  gfx.setColor(defaultColor);
  y+=fm.getHeight();
  x=paintSyntaxLine(currentLine,currentLineTokens,defaults.styles,this,gfx,x,y);
  if (compositionTextPainter != null && compositionTextPainter.hasComposedTextLayout()) {
    compositionTextPainter.draw(gfx,defaults.lineHighlightColor);
  }
  if (defaults.eolMarkers) {
    gfx.setColor(defaults.eolMarkerColor);
    gfx.drawString(".",x,y);
  }
}
