{
  if (editor.isSelectionActive()) {
    String selection=editor.getSelectedText();
    char[] stuff=selection.toCharArray();
    for (int i=0; i < stuff.length / 10; i++) {
      int a=(int)(Math.random() * stuff.length);
      int b=(int)(Math.random() * stuff.length);
      if (stuff[a] == '\n' || stuff[b] == '\n') {
        continue;
      }
      stuff[a]=selection.charAt(b);
      stuff[b]=selection.charAt(a);
    }
    editor.startCompoundEdit();
    editor.setSelectedText(new String(stuff));
    editor.stopCompoundEdit();
    editor.statusNotice("Now that feels better, doesn't it?");
  }
 else {
    editor.statusError("No selection, no dice.");
  }
}
