{
  final IndeterminateProgressMonitor monitor=new IndeterminateProgressMonitor(this,"Building and exporting...","Creating project...");
  try {
    File tempFolder=build.createProject(target);
    if (tempFolder == null) {
      return;
    }
    try {
      if (monitor.isCanceled()) {
        throw new MonitorCanceled();
      }
      monitor.setNote("Building release version...");
      if (monitor.isCanceled()) {
        throw new MonitorCanceled();
      }
      File exportFolder=build.createExportFolder();
      if (exportFolder != null) {
        Base.copyDir(tempFolder,exportFolder);
        statusNotice("Done with export.");
        Base.openFolder(exportFolder);
      }
 else {
        statusError("Could not copy files to export folder.");
      }
    }
 catch (    IOException e) {
      statusError(e);
    }
 finally {
      build.cleanup();
    }
  }
  finally {
    monitor.close();
  }
}
