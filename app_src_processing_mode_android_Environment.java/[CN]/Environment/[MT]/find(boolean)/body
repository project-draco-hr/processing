{
  refresh();
synchronized (devices) {
    for (    final Device device : devices.values()) {
      final boolean isEmulator=device.getId().contains("emulator");
      if ((isEmulator && wantEmulator) || (!isEmulator && !wantEmulator)) {
        return device;
      }
    }
  }
  return null;
}
