{
  while (Thread.currentThread() == thread) {
    try {
      while (input.available() > 0) {
synchronized (buffer) {
          if (bufferLast == buffer.length) {
            byte temp[]=new byte[bufferLast << 1];
            System.arraycopy(buffer,0,temp,0,bufferLast);
            buffer=temp;
          }
          buffer[bufferLast++]=(byte)input.read();
        }
      }
      if (clientEventMethod != null) {
        try {
          clientEventMethod.invoke(parent,new Object[]{this});
        }
 catch (        Exception e) {
          System.err.println("error, disabling clientEvent() for " + host);
          e.printStackTrace();
          clientEventMethod=null;
        }
      }
      try {
        Thread.sleep(10);
      }
 catch (      InterruptedException ex) {
      }
    }
 catch (    IOException e) {
      errorMessage("run",e);
    }
  }
}
