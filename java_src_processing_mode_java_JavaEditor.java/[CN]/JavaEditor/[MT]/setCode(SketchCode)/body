{
  Document oldDoc=code.getDocument();
  super.setCode(code);
  Document newDoc=code.getDocument();
  if (oldDoc != newDoc && errorCheckerService != null) {
    errorCheckerService.addListener(newDoc);
  }
  final JavaTextArea ta=getJavaTextArea();
  if (ta != null) {
    ta.clearGutterText();
    if (breakpointedLines != null) {
      for (      LineHighlight hl : breakpointedLines) {
        if (isInCurrentTab(hl.getLineID())) {
          hl.paint();
        }
      }
    }
    if (currentLine != null) {
      if (isInCurrentTab(currentLine.getLineID())) {
        currentLine.paint();
      }
    }
  }
  if (getDebugger() != null && getDebugger().isStarted()) {
    getDebugger().startTrackingLineChanges();
  }
  if (errorCheckerService != null) {
    if (errorColumn != null) {
      getErrorPoints().clear();
      statusEmpty();
    }
    errorCheckerService.request();
  }
}
