{
  if (screenFb)   return;
  if (numColorBuffers != PApplet.min(n,textures.length)) {
    throw new RuntimeException("Wrong number of textures to set the color buffers.");
  }
  if (fboMode) {
    ogl.pushFramebuffer();
    ogl.setFramebuffer(this);
    for (int i=0; i < numColorBuffers; i++) {
      getGl().glFramebufferTexture2D(GL.GL_FRAMEBUFFER,GL.GL_COLOR_ATTACHMENT0 + i,GL.GL_TEXTURE_2D,0,0);
    }
    for (int i=0; i < numColorBuffers; i++) {
      glColorBufferTargets[i]=textures[i].glTarget;
      glColorBufferIDs[i]=textures[i].glID;
      getGl().glFramebufferTexture2D(GL.GL_FRAMEBUFFER,colorBufferAttchPoints[i],glColorBufferTargets[i],glColorBufferIDs[i],0);
    }
    if (validFbo() && textures != null && 0 < textures.length) {
      width=textures[0].glWidth;
      height=textures[0].glHeight;
    }
    ogl.popFramebuffer();
  }
 else {
    for (int i=0; i < numColorBuffers; i++) {
      glColorBufferTargets[i]=textures[i].glTarget;
      glColorBufferIDs[i]=textures[i].glID;
    }
  }
}
