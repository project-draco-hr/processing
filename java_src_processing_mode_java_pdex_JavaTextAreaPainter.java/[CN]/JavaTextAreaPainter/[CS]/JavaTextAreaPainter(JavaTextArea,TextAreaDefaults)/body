{
  super(textArea,defaults);
  addMouseListener(new MouseAdapter(){
    public void mouseClicked(    MouseEvent evt){
      if (!getJavaEditor().hasJavaTabs()) {
        if (evt.getButton() == MouseEvent.BUTTON1) {
          if ((evt.isControlDown() && !Platform.isMacOS()) || evt.isMetaDown()) {
            handleCtrlClick(evt);
          }
        }
 else         if (!Platform.isMacOS() && evt.getButton() == MouseEvent.BUTTON2) {
          handleCtrlClick(evt);
        }
      }
    }
  }
);
  addMouseListener(new MouseAdapter(){
    long lastTime;
    public void mousePressed(    MouseEvent event){
      JavaEditor javaEditor=getJavaEditor();
      if (javaEditor.isDebuggerEnabled()) {
        long thisTime=event.getWhen();
        if (thisTime - lastTime > 100) {
          if (event.getX() < Editor.LEFT_GUTTER) {
            int offset=getJavaTextArea().xyToOffset(event.getX(),event.getY());
            if (offset >= 0) {
              int lineIndex=getJavaTextArea().getLineOfOffset(offset);
              javaEditor.toggleBreakpoint(lineIndex);
            }
          }
          lastTime=thisTime;
        }
      }
    }
  }
);
  tweakMode=false;
  cursorType=Cursor.DEFAULT_CURSOR;
}
