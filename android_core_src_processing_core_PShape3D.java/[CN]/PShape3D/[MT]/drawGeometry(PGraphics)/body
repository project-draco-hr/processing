{
  int numTextures;
  float pointSize;
  if (0 < strokeWeight && style) {
    getGl().glLineWidth(strokeWeight);
    pointSize=PApplet.min(strokeWeight,PGraphicsAndroid3D.maxPointSize);
  }
 else {
    getGl().glLineWidth(g.strokeWeight);
    pointSize=PApplet.min(g.strokeWeight,PGraphicsAndroid3D.maxPointSize);
  }
  if (!pointSprites) {
    getGl().glPointSize(pointSize);
  }
  getGl().glEnableClientState(GL11.GL_NORMAL_ARRAY);
  getGl().glBindBuffer(GL11.GL_ARRAY_BUFFER,glNormalBufferID);
  getGl().glNormalPointer(GL11.GL_FLOAT,0,0);
  if (style) {
    getGl().glEnableClientState(GL11.GL_COLOR_ARRAY);
    getGl().glBindBuffer(GL11.GL_ARRAY_BUFFER,glColorBufferID);
    getGl().glColorPointer(4,GL11.GL_FLOAT,0,0);
  }
  getGl().glEnableClientState(GL11.GL_VERTEX_ARRAY);
  getGl().glBindBuffer(GL11.GL_ARRAY_BUFFER,glVertexBufferID);
  getGl().glVertexPointer(3,GL11.GL_FLOAT,0,0);
  numTextures=0;
  if (style) {
    for (int t=0; t < textures.length; t++) {
      if (textures[t] != null) {
        PTexture tex=(PTexture)textures[t].getCache(a3d);
        tex=a3d.getTexture(textures[t]);
        if (tex == null) {
          break;
        }
        getGl().glEnable(tex.glTarget);
        getGl().glActiveTexture(GL10.GL_TEXTURE0 + t);
        getGl().glBindTexture(tex.glTarget,tex.glID);
        renderTextures[numTextures]=tex;
        numTextures++;
      }
 else {
        break;
      }
    }
  }
  if (0 < numTextures) {
    if (pointSprites) {
      getGl().glPointParameterf(GL11.GL_POINT_FADE_THRESHOLD_SIZE,0.6f * maxSpriteSize);
      getGl().glPointParameterf(GL11.GL_POINT_SIZE_MIN,1.0f);
      getGl().glPointParameterf(GL11.GL_POINT_SIZE_MAX,maxSpriteSize);
      getGl().glPointSize(maxSpriteSize);
      getGl().glPointParameterfv(GL11.GL_POINT_DISTANCE_ATTENUATION,spriteDistAtt,0);
      getGl().glTexEnvf(GL11.GL_POINT_SPRITE_OES,GL11.GL_COORD_REPLACE_OES,GL11.GL_TRUE);
      getGl().glEnable(GL11.GL_POINT_SPRITE_OES);
    }
 else {
      for (int t=0; t < numTextures; t++) {
        getGl().glClientActiveTexture(GL11.GL_TEXTURE0 + t);
        getGl().glEnableClientState(GL11.GL_TEXTURE_COORD_ARRAY);
        getGl().glBindBuffer(GL11.GL_ARRAY_BUFFER,glTexCoordBufferID[t]);
        getGl().glTexCoordPointer(2,GL11.GL_FLOAT,0,0);
      }
      if (1 < numTextures) {
        a3d.setTextureBlend(renderTextures,numTextures);
      }
    }
  }
  if (!style) {
    if (0 < numTextures) {
      if (g.tint) {
        getGl().glColor4f(g.tintR,g.tintG,g.tintB,g.tintA);
      }
 else {
        getGl().glColor4f(1,1,1,1);
      }
    }
 else {
      getGl().glColor4f(g.fillR,g.fillG,g.fillB,g.fillA);
    }
  }
  if (glIndexBufferID != 0 && useIndices) {
    getGl().glBindBuffer(GL11.GL_ELEMENT_ARRAY_BUFFER,glIndexBufferID);
    int last=lastIndex;
    int first=firstIndex;
    getGl().glDrawElements(glMode,last - first + 1,GL11.GL_UNSIGNED_SHORT,first * PGraphicsAndroid3D.SIZEOF_SHORT);
    getGl().glBindBuffer(GL11.GL_ELEMENT_ARRAY_BUFFER,0);
  }
 else {
    getGl().glDrawArrays(glMode,firstVertex,lastVertex - firstVertex + 1);
  }
  if (0 < numTextures) {
    for (int t=0; t < numTextures; t++) {
      PTexture tex=renderTextures[t];
      getGl().glActiveTexture(GL10.GL_TEXTURE0 + t);
      getGl().glBindTexture(tex.glTarget,0);
    }
    for (int t=0; t < numTextures; t++) {
      PTexture tex=renderTextures[t];
      getGl().glDisable(tex.glTarget);
    }
    if (pointSprites) {
      getGl().glDisable(GL11.GL_POINT_SPRITE_OES);
    }
 else {
      for (int t=0; t < numTextures; t++) {
        getGl().glClientActiveTexture(GL10.GL_TEXTURE0 + t);
        getGl().glDisableClientState(GL10.GL_TEXTURE_COORD_ARRAY);
      }
      if (1 < numTextures) {
        a3d.cleanupTextureBlend(numTextures);
      }
    }
  }
  getGl().glBindBuffer(GL11.GL_ARRAY_BUFFER,0);
  getGl().glDisableClientState(GL11.GL_VERTEX_ARRAY);
  getGl().glDisableClientState(GL11.GL_COLOR_ARRAY);
  getGl().glDisableClientState(GL11.GL_NORMAL_ARRAY);
}
