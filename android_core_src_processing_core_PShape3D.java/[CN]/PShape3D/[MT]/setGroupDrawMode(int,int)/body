{
  VertexGroup group=(VertexGroup)groups.get(gr);
  if (mode == POINTS)   group.glMode=GL11.GL_POINTS;
 else   if (mode == POINT_SPRITES)   throw new RuntimeException("PShape3D: point sprites can only be set for entire model");
 else   if (mode == LINES)   group.glMode=GL11.GL_LINES;
 else   if (mode == LINE_STRIP)   group.glMode=GL11.GL_LINE_STRIP;
 else   if (mode == LINE_LOOP)   group.glMode=GL11.GL_LINE_LOOP;
 else   if (mode == TRIANGLES)   group.glMode=GL11.GL_TRIANGLES;
 else   if (mode == TRIANGLE_FAN)   group.glMode=GL11.GL_TRIANGLE_FAN;
 else   if (mode == TRIANGLE_STRIP)   group.glMode=GL11.GL_TRIANGLE_STRIP;
 else {
    throw new RuntimeException("PShape3D: Unknown draw mode");
  }
}
