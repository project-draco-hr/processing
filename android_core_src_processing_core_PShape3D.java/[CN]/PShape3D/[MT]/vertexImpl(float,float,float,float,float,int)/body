{
  if (family == GROUP) {
    PGraphics.showWarning("Cannot add vertices to GROUP shape");
    return;
  }
  boolean textured=texture != null;
  float fR, fG, fB, fA;
  fR=fG=fB=fA=0;
  if (fill || textured) {
    if (!textured) {
      fR=fillR;
      fG=fillG;
      fB=fillB;
      fA=fillA;
    }
 else {
      if (tint) {
        fR=tintR;
        fG=tintG;
        fB=tintB;
        fA=tintA;
      }
 else {
        fR=1;
        fG=1;
        fB=1;
        fA=1;
      }
    }
  }
  if (texture != null && textureMode == IMAGE) {
    u/=texture.width;
    v/=texture.height;
    PTexture tex=renderer.queryTexture(texture);
    if (tex != null && tex.isFlippedY()) {
      v=1 - v;
    }
  }
  float sR, sG, sB, sA, sW;
  sR=sG=sB=sA=sW=0;
  if (stroke) {
    sR=strokeR;
    sG=strokeG;
    sB=strokeB;
    sA=strokeA;
    sW=strokeWeight;
  }
  if (breakShape) {
    code=BREAK;
    breakShape=false;
  }
  in.addVertex(x,y,z,fR,fG,fB,fA,normalX,normalY,normalZ,u,v,sR,sG,sB,sA,sW,code);
  root.tessellated=false;
  tessellated=false;
}
