{
  stopThread.set(false);
  checkCode();
  lastErrorCheckCall=System.currentTimeMillis();
  if (!hasSyntaxErrors())   editor.showProblemListView(XQConsoleToggle.CONSOLE);
  astGenerator.buildAST(cu);
  handleErrorCheckingToggle();
  while (!stopThread.get()) {
    try {
      Thread.sleep(sleepTime);
    }
 catch (    Exception e) {
      log("Oops! [ErrorCheckerThreaded]: " + e);
    }
    updatePaintedThingys();
    updateEditorStatus();
    updateSketchCodeListeners();
    if (pauseThread.get())     continue;
    if (textModified.get() == 0)     continue;
    if (System.currentTimeMillis() - lastErrorCheckCall > errorCheckInterval) {
      log("Interval passed, starting error check");
      checkCode();
    }
    checkForMissingImports();
  }
  astGenerator.disposeAllWindows();
  compilationChecker=null;
  checkerClass=null;
  classLoader=null;
  System.gc();
  logE("Thread stopped: " + editor.getSketch().getName());
  System.gc();
}
