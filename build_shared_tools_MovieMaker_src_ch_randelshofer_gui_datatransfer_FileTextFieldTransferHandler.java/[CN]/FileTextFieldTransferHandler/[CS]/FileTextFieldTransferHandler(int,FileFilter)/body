{
  this.fileFilter=filter;
  if (fileSelectionMode != JFileChooser.FILES_AND_DIRECTORIES && fileSelectionMode != JFileChooser.FILES_ONLY && fileSelectionMode != JFileChooser.DIRECTORIES_ONLY) {
    throw new IllegalArgumentException("illegal file selection mode:" + fileSelectionMode);
  }
  this.fileSelectionMode=fileSelectionMode;
}
