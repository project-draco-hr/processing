{
  PGraphicsOpenGL g=graphics.get();
  if (g == null)   return 0;
  PSurface surf=sketch.getSurface();
  if (surf == null) {
    return g.pixelDensity;
  }
 else   if (surf instanceof PSurfaceJOGL) {
    return ((PSurfaceJOGL)surf).getPixelScale();
  }
 else {
    throw new RuntimeException("Renderer cannot find a JOGL surface");
  }
}
