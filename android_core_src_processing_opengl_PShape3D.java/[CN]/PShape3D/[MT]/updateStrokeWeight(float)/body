{
  if (shapeEnded && tessellated && (haveLines || havePoints)) {
    float resizeFactor=strokeWeight / prevStrokeWeight;
    Arrays.fill(inGeo.sweights,0,inGeo.vertexCount,strokeWeight);
    if (haveLines) {
      for (int i=firstLineVertex; i <= lastLineVertex; i++) {
        tessGeo.lineDirWidths[4 * i + 3]*=resizeFactor;
      }
      root.setModifiedLineAttributes(firstLineVertex,lastLineVertex);
    }
    if (havePoints) {
      for (int i=firstPointVertex; i <= lastPointVertex; i++) {
        tessGeo.pointSizes[2 * i + 0]*=resizeFactor;
        tessGeo.pointSizes[2 * i + 1]*=resizeFactor;
      }
      root.setModifiedPointAttributes(firstPointVertex,lastPointVertex);
    }
  }
}
