{
  float a=0, b=0, c=0, d=0;
  float tl=0, tr=0, br=0, bl=0;
  boolean rounded=false;
  if (params.length == 4) {
    rounded=false;
    a=params[0];
    b=params[1];
    c=params[2];
    d=params[3];
  }
 else   if (params.length == 5) {
    a=params[0];
    b=params[1];
    c=params[2];
    d=params[3];
    tl=tr=br=bl=params[4];
    rounded=true;
  }
 else   if (params.length == 8) {
    a=params[0];
    b=params[1];
    c=params[2];
    d=params[3];
    tl=params[4];
    tr=params[5];
    br=params[6];
    bl=params[7];
    rounded=true;
  }
  inGeo.setMaterial(fillColor,strokeColor,strokeWeight,ambientColor,specularColor,emissiveColor,shininess);
  inGeo.setNormal(normalX,normalY,normalZ);
  if (rounded) {
    inGeo.addRect(a,b,c,d,tl,tr,br,bl,fill,stroke,bezierDetail,rectMode);
    inGeo.initTessMap(tessGeo);
    tessellator.tessellatePolygon(false,true,true);
  }
 else {
    inGeo.addRect(a,b,c,d,fill,stroke,rectMode);
    inGeo.initTessMap(tessGeo);
    tessellator.tessellateQuads();
  }
}
