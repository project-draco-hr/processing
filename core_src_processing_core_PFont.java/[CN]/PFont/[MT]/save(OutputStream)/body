{
  DataOutputStream os=new DataOutputStream(output);
  os.writeInt(charCount);
  if ((name == null) || (psname == null)) {
    name="";
    psname="";
  }
  os.writeInt(11);
  os.writeInt(size);
  int mbox2=(int)Math.pow(2,Math.ceil(Math.log(size) / Math.log(2)));
  os.writeInt(mbox2);
  os.writeInt(ascent);
  os.writeInt(descent);
  for (  Glyph glyph : glyphs) {
    os.writeInt(glyph.value);
    os.writeInt(glyph.height);
    os.writeInt(glyph.width);
    os.writeInt(glyph.setWidth);
    os.writeInt(glyph.topExtent);
    os.writeInt(glyph.leftExtent);
    os.writeInt(0);
  }
  for (  Glyph glyph : glyphs) {
    int[] pixels=glyph.image.pixels;
    for (int y=0; y < glyph.height; y++) {
      for (int x=0; x < glyph.width; x++) {
        os.write(pixels[y * glyph.width + x] & 0xff);
      }
    }
  }
  os.writeUTF(name);
  os.writeUTF(psname);
  os.writeBoolean(smooth);
  os.flush();
}
