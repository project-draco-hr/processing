{
  String extension=null;
  String filename=file.getName();
  int dotIndex=filename.lastIndexOf('.');
  if (dotIndex != -1) {
    extension=filename.substring(dotIndex + 1).toLowerCase();
    if (!extension.equals("csv") && !extension.equals("tsv")) {
      extension=null;
    }
  }
  if (extension == null) {
    if (options == null) {
      throw new IOException("This table filename has no extension, and no options are set.");
    }
  }
 else {
    if (options == null) {
      options=extension;
    }
 else {
      options=extension + "," + options;
    }
  }
  return options;
}
