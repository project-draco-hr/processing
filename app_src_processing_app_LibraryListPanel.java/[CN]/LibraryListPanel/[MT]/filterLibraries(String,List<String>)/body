{
  if (libraries != null && libPanelsByInfo != null) {
synchronized (libraries) {
synchronized (libPanelsByInfo) {
        List<LibraryInfo> hiddenLibraries=libraries.getAllLibararies();
        for (        LibraryInfo lib : libraries.getFilteredLibraryList(category,filters)) {
          libPanelsByInfo.get(lib).setVisible(true);
          hiddenLibraries.remove(lib);
        }
        for (        LibraryInfo lib : hiddenLibraries) {
          libPanelsByInfo.get(lib).setVisible(false);
        }
      }
    }
  }
}
