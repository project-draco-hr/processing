{
  if (libraries != null && libPanels != null) {
synchronized (libraries) {
synchronized (libPanels) {
        List<LibraryPanel> hiddenPanels=new ArrayList(libPanels);
        for (        LibraryInfo lib : libraries.getFilteredLibraryList(category,filters)) {
          for (          LibraryPanel libPanel : libPanels) {
            if (libPanel.info.equals(lib)) {
              libPanel.setVisible(true);
              hiddenPanels.remove(libPanel);
            }
          }
        }
        for (        LibraryPanel libPanel : hiddenPanels) {
          libPanel.setVisible(false);
        }
      }
    }
  }
}
