{
  int height=0;
  int width=0;
  for (  Component c : getComponents()) {
    if (c.isVisible()) {
      if (c instanceof LibraryPanel) {
        Dimension d=c.getPreferredSize();
        if (d.width > width) {
          width=d.width;
        }
        height+=d.height;
      }
    }
  }
  setPreferredSize(new Dimension(width,height));
}
