{
  super();
  preferredViewPositionListener=null;
  this.libraries=libraries;
  setLayout(new GridBagLayout());
  libPanelsByInfo=new HashMap<LibraryInfo,LibraryPanel>();
  int row=0;
  for (  LibraryInfo libInfo : libraries.getAllLibararies()) {
    GridBagConstraints c=new GridBagConstraints();
    c.fill=GridBagConstraints.HORIZONTAL;
    c.weightx=1;
    c.gridx=0;
    c.gridy=row++;
    LibraryPanel libPanel=new LibraryPanel(libInfo);
    libPanelsByInfo.put(libPanel.libInfo,libPanel);
    add(libPanel,c);
  }
  GridBagConstraints verticalFill=new GridBagConstraints();
  verticalFill.fill=GridBagConstraints.VERTICAL;
  verticalFill.weighty=1;
  verticalFill.gridx=0;
  verticalFill.gridy=row++;
  add(Box.createVerticalGlue(),verticalFill);
  setFocusable(true);
  addMouseListener(new MouseAdapter(){
    public void mousePressed(    MouseEvent mouseEvent){
      requestFocusInWindow();
    }
  }
);
}
