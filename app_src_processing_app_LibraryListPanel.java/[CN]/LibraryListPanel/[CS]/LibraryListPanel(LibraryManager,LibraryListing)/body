{
  super();
  this.libraryManager=libraryManager;
  preferredViewPositionListener=new PreferredViewPositionListener(){
    public void handlePreferredLocation(    Point p){
    }
  }
;
  setLayout(new GridBagLayout());
  setFocusable(true);
  setOpaque(true);
  if (Base.isLinux()) {
    setBackground(Color.white);
  }
 else {
    setBackground(UIManager.getColor("List.background"));
  }
  libPanels=new ArrayList<LibraryPanel>();
  addMouseListener(new MouseAdapter(){
    public void mousePressed(    MouseEvent mouseEvent){
      requestFocusInWindow();
    }
  }
);
  if (libraryListing == null) {
    GridBagConstraints c=new GridBagConstraints();
    c.fill=GridBagConstraints.HORIZONTAL;
    c.weightx=1;
    c.weighty=1;
    c.anchor=GridBagConstraints.CENTER;
    setupProgressBar=new JProgressBar();
    setupProgressBar.setString("");
    setupProgressBar.setStringPainted(true);
    add(setupProgressBar,c);
  }
 else {
    setLibraryList(libraryListing);
  }
}
