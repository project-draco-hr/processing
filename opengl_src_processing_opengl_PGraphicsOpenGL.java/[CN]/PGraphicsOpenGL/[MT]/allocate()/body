{
  if (context == null) {
    System.out.println("PGraphicsOpenGL.allocate() for " + width + " "+ height);
    new Exception().printStackTrace(System.out);
    GLCapabilities capabilities=new GLCapabilities();
    if (hints[ENABLE_OPENGL_2X_SMOOTH]) {
      capabilities.setSampleBuffers(true);
      capabilities.setNumSamples(2);
    }
 else     if (hints[ENABLE_OPENGL_4X_SMOOTH]) {
      capabilities.setSampleBuffers(true);
      capabilities.setNumSamples(4);
    }
    drawable=GLDrawableFactory.getFactory().getGLDrawable(parent,capabilities,null);
    context=drawable.createContext(null);
    gl=context.getGL();
    settingsInited=false;
    System.out.println("allocated.");
  }
 else {
    System.out.println("PGraphicsOpenGL.allocate() again for " + width + " "+ height);
    reapplySettings();
  }
}
