{
  final Platform platform=Base.getPlatform();
  final String sdkEnvPath=platform.getenv("ANDROID_SDK");
  if (sdkEnvPath != null) {
    try {
      final AndroidSDK androidSDK=new AndroidSDK(new File(sdkEnvPath));
      Preferences.set("android.sdk.path",sdkEnvPath);
      return androidSDK;
    }
 catch (    final BadSDKException drop) {
    }
  }
  final String sdkPrefsPath=Preferences.get("android.sdk.path");
  if (sdkPrefsPath != null) {
    try {
      final AndroidSDK androidSDK=new AndroidSDK(new File(sdkPrefsPath));
      Preferences.set("android.sdk.path",sdkPrefsPath);
      return androidSDK;
    }
 catch (    final BadSDKException wellThatsThat) {
      Preferences.unset("android.sdk.path");
    }
  }
  return null;
}
