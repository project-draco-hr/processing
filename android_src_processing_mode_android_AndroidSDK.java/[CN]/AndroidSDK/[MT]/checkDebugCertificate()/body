{
  File dotAndroidFolder=new File(System.getProperty("user.home"),".android");
  File keystoreFile=new File(dotAndroidFolder,"debug.keystore");
  if (keystoreFile.exists()) {
    ProcessHelper ph=new ProcessHelper(new String[]{"keytool","-list","-v","-storepass","android","-keystore",keystoreFile.getAbsolutePath()});
    try {
      ProcessResult result=ph.execute();
      if (result.succeeded()) {
        String[] lines=PApplet.split(result.getStdout(),'\n');
        for (        String line : lines) {
          String[] m=PApplet.match(line,"Valid from: .* until: (.*)");
          if (m != null) {
            String timestamp=m[1].trim();
            DateFormat df=new SimpleDateFormat("EEE MMM dd HH:mm:ss zzz yyyy");
            try {
              Date date=df.parse(timestamp);
              long expireMillis=date.getTime();
              if (expireMillis < System.currentTimeMillis()) {
                System.out.println("Removing expired debug.keystore file.");
                String hidingName="debug.keystore." + AndroidMode.getDateStamp(expireMillis);
                File hidingFile=new File(keystoreFile.getParent(),hidingName);
                if (!keystoreFile.renameTo(hidingFile)) {
                  System.err.println("Could not remove the expired debug.keystore file.");
                  System.err.println("Please remove the file " + keystoreFile.getAbsolutePath());
                }
              }
            }
 catch (            ParseException pe) {
              System.err.println("The date ???" + timestamp + "??? could not be parsed.");
              System.err.println("Please report this as a bug so we can fix it.");
            }
          }
        }
      }
    }
 catch (    Exception e) {
      e.printStackTrace();
    }
  }
}
