{
  super(parent,properties);
  XMLElement[] elements=properties.getChildren();
  namedGlyphs=new HashMap();
  unicodeGlyphs=new HashMap();
  glyphCount=0;
  glyphs=new FontGlyph[elements.length];
  for (int i=0; i < elements.length; i++) {
    String name=elements[i].getName();
    XMLElement elem=elements[i];
    if (name.equals("glyph")) {
      FontGlyph fg=new FontGlyph(this,elem);
      if (fg.count != 0) {
        if (fg.name != null) {
          namedGlyphs.put(fg.name,fg);
        }
        if (fg.unicode != 0) {
          unicodeGlyphs.put(new Character(fg.unicode),fg);
        }
      }
      glyphs[glyphCount++]=fg;
    }
 else     if (name.equals("missing-glyph")) {
      missingGlyph=new FontGlyph(this,elem);
    }
 else     if (name.equals("font-face")) {
      face=new FontFace(this,elem);
    }
 else {
      System.err.println("Ignoring " + name + " inside <font>");
    }
  }
}
