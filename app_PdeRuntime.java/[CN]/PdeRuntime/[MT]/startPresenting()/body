{
  String command[]=new String[]{"java","-Djava.library.path=" + sketch.libraryPath + File.pathSeparator+ System.getProperty("java.library.path"),"-cp",sketch.classPath + PdeSketchbook.librariesClassPath,"processing.core.PApplet",PApplet.ARGS_EXTERNAL,PApplet.ARGS_PRESENT,PApplet.ARGS_PRESENT_BGCOLOR + "=" + PdePreferences.get("run.present.bgcolor"),PApplet.ARGS_DISPLAY + "=" + PdePreferences.get("run.display"),PApplet.ARGS_SKETCH_FOLDER + "=" + sketch.folder.getAbsolutePath(),sketch.mainClassName};
  process=Runtime.getRuntime().exec(command);
  processInput=new SystemOutSiphon(process.getInputStream());
  processError=new PdeMessageSiphon(process.getErrorStream(),this);
  processOutput=process.getOutputStream();
}
