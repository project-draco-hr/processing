{
  super.endShapeLighting(lights);
  if (lights) {
    for (int i=shapeFirst; i < shapeLast; i++) {
      float v[]=vertices[i];
      v[R]=clamp(v[R] + v[SPR]);
      v[G]=clamp(v[G] + v[SPG]);
      v[B]=clamp(v[B] + v[SPB]);
    }
  }
}
