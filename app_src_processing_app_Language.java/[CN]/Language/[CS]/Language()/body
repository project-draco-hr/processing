{
  this.language=Locale.getDefault().getLanguage();
  this.languages=new HashMap<String,String>();
  this.languages.put(Locale.ENGLISH.getLanguage(),Locale.ENGLISH.getDisplayLanguage(Locale.ENGLISH));
  this.languages.put(Locale.GERMAN.getLanguage(),Locale.GERMAN.getDisplayLanguage(Locale.GERMAN));
  if (!this.languages.containsKey(this.language)) {
    this.language="en";
  }
  try {
    File file=Base.getContentFile("lib/language.txt");
    if (file.exists()) {
      String language=PApplet.loadStrings(file)[0];
      language=language.trim().toLowerCase();
      if (!language.equals("")) {
        this.language=language;
      }
 else {
        Base.saveFile(this.language,file);
      }
    }
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
  this.bundle=ResourceBundle.getBundle("processing.app.languages.PDE",new Locale(this.language));
}
