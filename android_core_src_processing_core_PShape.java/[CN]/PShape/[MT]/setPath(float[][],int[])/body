{
  if (coords == null || coords.length == 0)   return;
  if (codes == null || codes.length == 0) {
    vertexCodeCount=0;
  }
 else {
    if (codes.length != coords.length) {
      PGraphics.showWarning("Wrong number of vertex codes");
      return;
    }
    vertexCodeCount=codes.length;
  }
  int ncoords=coords[0].length;
  if (vertices == null || vertices.length != coords.length || vertices[0].length != ncoords) {
    vertices=new float[coords.length][ncoords];
  }
  for (int i=0; i < coords.length; i++) {
    PApplet.arrayCopy(coords[i],vertices[i]);
  }
  if (0 < vertexCodeCount) {
    if (vertexCodes == null || vertexCodes.length != vertexCodeCount) {
      vertexCodes=new int[vertexCodeCount];
    }
    PApplet.arrayCopy(codes,vertexCodes);
  }
}
