{
  int shader=createShader(shaderType);
  if (shader != 0) {
    shaderSource(shader,source);
    compileShader(shader);
    getShaderiv(shader,COMPILE_STATUS,intBuffer);
    boolean compiled=intBuffer.get(0) == 0 ? false : true;
    if (!compiled) {
      System.err.println("Could not compile shader " + shaderType + ":");
      System.err.println(getShaderInfoLog(shader));
      deleteShader(shader);
      shader=0;
    }
  }
  return shader;
}
