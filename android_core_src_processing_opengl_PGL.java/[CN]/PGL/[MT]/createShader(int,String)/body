{
  int shader=createShader(shaderType);
  if (shader != 0) {
    shaderSource(shader,source);
    compileShader(shader);
    int[] compiled=new int[1];
    getShaderiv(shader,COMPILE_STATUS,compiled,0);
    if (compiled[0] == FALSE) {
      System.err.println("Could not compile shader " + shaderType + ":");
      System.err.println(getShaderInfoLog(shader));
      deleteShader(shader);
      shader=0;
    }
  }
  return shader;
}
