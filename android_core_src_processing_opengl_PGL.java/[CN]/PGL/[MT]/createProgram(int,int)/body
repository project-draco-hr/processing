{
  int program=createProgram();
  if (program != 0) {
    attachShader(program,vertexShader);
    attachShader(program,fragmentShader);
    linkProgram(program);
    int[] linked=new int[1];
    getProgramiv(program,LINK_STATUS,linked,0);
    if (linked[0] == FALSE) {
      System.err.println("Could not link program: ");
      System.err.println(getProgramInfoLog(program));
      deleteProgram(program);
      program=0;
    }
  }
  return program;
}
