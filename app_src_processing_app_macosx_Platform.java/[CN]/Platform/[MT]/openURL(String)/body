{
  if (PApplet.javaVersion < 1.6f) {
    if (url.startsWith("http://")) {
      try {
        Class<?> eieio=Class.forName("com.apple.eio.FileManager");
        Method openMethod=eieio.getMethod("openURL",new Class[]{String.class});
        openMethod.invoke(null,new Object[]{url});
      }
 catch (      Exception e) {
        e.printStackTrace();
      }
    }
 else {
      processing.core.PApplet.open(url);
    }
  }
 else {
    try {
      Class<?> desktopClass=Class.forName("java.awt.Desktop");
      Method getMethod=desktopClass.getMethod("getDesktop");
      Object desktop=getMethod.invoke(null,new Object[]{});
      if (url.startsWith("http://")) {
        Method browseMethod=desktopClass.getMethod("browse",new Class[]{URI.class});
        browseMethod.invoke(desktop,new Object[]{new URI(url)});
      }
 else {
        Method openMethod=desktopClass.getMethod("open",new Class[]{File.class});
        openMethod.invoke(desktop,new Object[]{new File(url)});
      }
    }
 catch (    Exception e) {
      e.printStackTrace();
    }
  }
}
