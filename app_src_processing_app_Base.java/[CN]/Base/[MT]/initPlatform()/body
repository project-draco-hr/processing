{
  try {
    Class<?> platformClass=Class.forName("processing.app.Platform");
    if (Base.isMacOS()) {
      platformClass=Class.forName("processing.app.platform.MacPlatform");
    }
 else     if (Base.isWindows()) {
      platformClass=Class.forName("processing.app.platform.WindowsPlatform");
    }
 else     if (Base.isLinux()) {
      platformClass=Class.forName("processing.app.platform.LinuxPlatform");
    }
    platform=(Platform)platformClass.newInstance();
  }
 catch (  Exception e) {
    Base.showError("Problem Setting the Platform","An unknown error occurred while trying to load\n" + "platform-specific code for your machine.",e);
  }
}
