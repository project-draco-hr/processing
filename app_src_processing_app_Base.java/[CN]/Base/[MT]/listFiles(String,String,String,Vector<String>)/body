{
  File folder=new File(path);
  String[] list=folder.list();
  if (list != null) {
    for (    String item : list) {
      if (item.charAt(0) == '.')       continue;
      if (extension == null || item.toLowerCase().endsWith(extension)) {
        File file=new File(path,item);
        String newPath=file.getAbsolutePath();
        if (newPath.startsWith(basePath)) {
          newPath=newPath.substring(basePath.length());
        }
        if (extension == null || item.toLowerCase().endsWith(extension)) {
          vector.add(newPath);
        }
        if (file.isDirectory()) {
          listFiles(basePath,file.getAbsolutePath(),extension,vector);
        }
      }
    }
  }
}
