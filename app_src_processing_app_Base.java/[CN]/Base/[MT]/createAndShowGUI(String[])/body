{
  try {
    File versionFile=getContentFile("lib/version.txt");
    if (versionFile.exists()) {
      String version=PApplet.loadStrings(versionFile)[0];
      if (!version.equals(VERSION_NAME)) {
        VERSION_NAME=version;
      }
    }
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
  initPlatform();
  JPopupMenu.setDefaultLightWeightPopupEnabled(false);
  initRequirements();
  Preferences.init();
  locateSketchbookFolder();
  if (!SingleInstance.alreadyRunning(args)) {
    try {
      platform.setLookAndFeel();
    }
 catch (    Exception e) {
      log("Could not set the Look & Feel",e);
    }
    try {
      untitledFolder=Base.createTempFolder("untitled","sketches",null);
      untitledFolder.deleteOnExit();
    }
 catch (    IOException e) {
      Base.showError("Trouble without a name","Could not create a place to store untitled sketches.\n" + "That's gonna prevent us from continuing.",e);
    }
    log("about to create base...");
    Base base=new Base(args);
    SingleInstance.startServer(base);
    log("done creating base...");
  }
}
