{
  setBoolean("export.applet.separate_jar_files",exportSeparateBox.isSelected());
  setBoolean("sketchbook.prompt",sketchPromptBox.isSelected());
  setBoolean("sketchbook.auto_clean",sketchCleanBox.isSelected());
  set("sketchbook.path",sketchbookLocationField.getText());
  setBoolean("editor.external",externalEditorBox.isSelected());
  setBoolean("update.check",checkUpdatesBox.isSelected());
  setBoolean("run.options.memory",memoryOverrideBox.isSelected());
  int memoryMin=Preferences.getInteger("run.options.memory.initial");
  int memoryMax=Preferences.getInteger("run.options.memory.maximum");
  try {
    memoryMax=Integer.parseInt(memoryField.getText().trim());
    if (memoryMax < memoryMin)     memoryMax=memoryMin;
    setInteger("run.options.memory.maximum",memoryMax);
  }
 catch (  NumberFormatException e) {
    System.err.println("Ignoring bad memory setting");
  }
  String newSizeText=fontSizeField.getText();
  try {
    int newSize=Integer.parseInt(newSizeText.trim());
    String pieces[]=PApplet.split(get("editor.font"),',');
    pieces[2]=String.valueOf(newSize);
    set("editor.font",PApplet.join(pieces,','));
  }
 catch (  Exception e) {
    System.err.println("ignoring invalid font size " + newSizeText);
  }
  editor.applyPreferences();
}
