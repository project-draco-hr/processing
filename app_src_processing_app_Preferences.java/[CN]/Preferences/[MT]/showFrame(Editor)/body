{
  this.editor=editor;
  editorAntialiasBox.setSelected(getBoolean("editor.antialias"));
  exportSeparateBox.setSelected(getBoolean("export.applet.separate_jar_files"));
  deletePreviousBox.setSelected(getBoolean("export.delete_target_folder"));
  sketchbookLocationField.setText(get("sketchbook.path"));
  externalEditorBox.setSelected(getBoolean("editor.external"));
  checkUpdatesBox.setSelected(getBoolean("update.check"));
  updateDisplayList();
  int displayNum=getInteger("run.display");
  if (displayNum >= 0 && displayNum < displayCount) {
    displaySelectionBox.setSelectedIndex(displayNum);
  }
  memoryOverrideBox.setSelected(getBoolean("run.options.memory"));
  memoryField.setText(get("run.options.memory.maximum"));
  if (Base.isMacOS()) {
    String bits=Preferences.get("run.options.bits");
    if (bits.equals("32")) {
      bitsThirtyTwoButton.setSelected(true);
    }
 else     if (bits.equals("64")) {
      bitsSixtyFourButton.setSelected(true);
    }
    if (System.getProperty("os.version").startsWith("10.5")) {
      bitsSixtyFourButton.setSelected(true);
      bitsThirtyTwoButton.setEnabled(false);
    }
  }
  if (autoAssociateBox != null) {
    autoAssociateBox.setSelected(getBoolean("platform.auto_file_type_associations"));
  }
  dialog.setVisible(true);
}
