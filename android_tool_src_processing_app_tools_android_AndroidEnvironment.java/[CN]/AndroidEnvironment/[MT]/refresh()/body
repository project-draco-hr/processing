{
  final List<String> activeDevices=listDevices();
  for (  final String deviceId : activeDevices) {
    if (!devices.containsKey(deviceId)) {
      addDevice(new AndroidDevice(this,deviceId));
    }
  }
synchronized (devices) {
    for (    final String deviceId : new ArrayList<String>(devices.keySet())) {
      if (!activeDevices.contains(deviceId)) {
        System.err.println("HEY THIS SHOULDN'T HAPPEN");
        devices.get(deviceId).shutdown();
      }
    }
  }
}
