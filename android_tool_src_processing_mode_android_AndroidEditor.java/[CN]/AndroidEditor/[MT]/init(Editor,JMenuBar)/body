{
  this.editor=parent;
  JMenu menu=new JMenu("Android");
  JMenuItem item;
  toggleItem=Base.newJCheckBoxMenuItem("Android Mode",'D');
  toggleItem.addItemListener(new ItemListener(){
    public void itemStateChanged(    ItemEvent e){
      updateMode();
    }
  }
);
  menu.add(toggleItem);
  item=new JMenuItem("Guide");
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      Base.openURL("http://wiki.processing.org/w/Android");
    }
  }
);
  menu.add(item);
  menu.addSeparator();
  item=new JMenuItem("Sketch Permissions");
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      new Permissions(editor.getSketch());
    }
  }
);
  menu.add(item);
  menu.addSeparator();
  item=new JMenuItem("Signing Key Setup");
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      new Keys(editor);
    }
  }
);
  item.setEnabled(false);
  menu.add(item);
  item=new JMenuItem("Android SDK & AVD Manager");
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      File file=sdk.getAndroidTool();
      PApplet.exec(new String[]{file.getAbsolutePath()});
    }
  }
);
  menu.add(item);
  item=new JMenuItem("Reset Connections");
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      Environment.killAdbServer();
    }
  }
);
  menu.add(item);
  menubar.add(menu);
}
