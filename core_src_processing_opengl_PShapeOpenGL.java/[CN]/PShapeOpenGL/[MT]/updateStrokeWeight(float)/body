{
  if (PGraphicsOpenGL.same(strokeWeight,newWeight))   return;
  float oldWeight=strokeWeight;
  strokeWeight=newWeight;
  Arrays.fill(inGeo.strokeWeights,0,inGeo.vertexCount,strokeWeight);
  if (shapeEnded && tessellated && (hasLines || hasPoints)) {
    float resizeFactor=newWeight / oldWeight;
    if (hasLines) {
      if (is3D()) {
        for (int i=firstLineVertex; i <= lastLineVertex; i++) {
          tessGeo.lineAttribs.put(4 * i + 3,tessGeo.lineAttribs.get(4 * i + 3) * resizeFactor);
        }
        root.setModifiedLineAttributes(firstLineVertex,lastLineVertex);
      }
 else       if (is2D()) {
        markForTessellation();
      }
    }
    if (hasPoints) {
      if (is3D()) {
        for (int i=firstPointVertex; i <= lastPointVertex; i++) {
          tessGeo.pointAttribs.put(2 * i + 0,tessGeo.pointAttribs.get(2 * i + 0) * resizeFactor);
          tessGeo.pointAttribs.put(2 * i + 1,tessGeo.pointAttribs.get(2 * i + 1) * resizeFactor);
        }
        root.setModifiedPointAttributes(firstPointVertex,lastPointVertex);
      }
 else       if (is2D()) {
        markForTessellation();
      }
    }
  }
}
