{
  float deltaX=orb.x - groundSegment.x;
  float deltaY=orb.y - groundSegment.y;
  float cosine=cos(groundSegment.rot);
  float sine=sin(groundSegment.rot);
  float groundXTemp=cosine * deltaX + sine * deltaY;
  float groundYTemp=cosine * deltaY - sine * deltaX;
  float velocityXTemp=cosine * velocity.x + sine * velocity.y;
  float velocityYTemp=cosine * velocity.y - sine * velocity.x;
  if (groundYTemp > -orb.r && orb.x > groundSegment.x1 && orb.x < groundSegment.x2) {
    groundYTemp=-orb.r;
    velocityYTemp*=-1.0f;
    velocityYTemp*=damping;
  }
  deltaX=cosine * groundXTemp - sine * groundYTemp;
  deltaY=cosine * groundYTemp + sine * groundXTemp;
  velocity.x=cosine * velocityXTemp - sine * velocityYTemp;
  velocity.y=cosine * velocityYTemp + sine * velocityXTemp;
  orb.x=groundSegment.x + deltaX;
  orb.y=groundSegment.y + deltaY;
}
