{
  ArrayList<LibraryInfo> filteredList=new ArrayList<LibraryInfo>(allLibraries);
  Iterator<LibraryInfo> it=filteredList.iterator();
  while (it.hasNext()) {
    LibraryInfo libInfo=it.next();
    if (category != null && !category.equals(libInfo.categoryName)) {
      it.remove();
    }
 else {
      for (      String filter : filters) {
        if (!matches(libInfo,filter)) {
          it.remove();
          break;
        }
      }
    }
  }
  return filteredList;
}
