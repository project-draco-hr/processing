{
  HashMap<String,String> categoriesByName=new HashMap<String,String>();
  HashSet<String> installedLibraries=new HashSet<String>();
  for (  Library library : installed) {
    installedLibraries.add(library.getName());
  }
  Iterator<LibraryInfo> it=allLibraries.iterator();
  while (it.hasNext()) {
    LibraryInfo libInfo=it.next();
    if (installedLibraries.contains(libInfo.name)) {
      it.remove();
      categoriesByName.put(libInfo.name,libInfo.category);
    }
  }
  for (  Library library : installed) {
    String category=categoriesByName.get(library.getName());
    if (category != null) {
      library.info.category=category;
    }
    addLibrary(library.info);
  }
}
