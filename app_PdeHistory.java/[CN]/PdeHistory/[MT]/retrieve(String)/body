{
  String readableDate=selection.substring(selection.indexOf("-") + 2);
  record(editor.textarea.getText(),AUTOSAVE);
  try {
    BufferedReader reader=new BufferedReader(new InputStreamReader(new GZIPInputStream(new FileInputStream(historyFile))));
    String line=null;
    int historyCount=0;
    String historyList[]=new String[100];
    try {
      boolean found=false;
      while ((line=reader.readLine()) != null) {
        if (line.equals(HISTORY_SEPARATOR)) {
          line=reader.readLine();
          if (line.indexOf(readableDate) != -1) {
            found=true;
            break;
          }
        }
      }
      if (found) {
        line=reader.readLine();
        StringBuffer buffer=new StringBuffer();
        while ((line=reader.readLine()) != null) {
          if (line.equals(HISTORY_SEPARATOR))           break;
          buffer.append(line + "\n");
        }
        editor.changeText(buffer.toString(),true);
        lastRecorded=editor.textarea.getText();
        editor.setSketchModified(false);
      }
 else {
        System.err.println("couldn't find history entry for " + "'" + readableDate + "'");
      }
    }
 catch (    IOException e) {
      e.printStackTrace();
    }
  }
 catch (  IOException e) {
    e.printStackTrace();
  }
}
