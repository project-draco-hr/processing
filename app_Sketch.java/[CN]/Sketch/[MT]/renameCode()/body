{
  ensureExistence();
  if (isReadOnly()) {
    Base.showMessage("Sketch is Read-Only","Some files are marked \"read-only\", so you'll\n" + "need to re-save the sketch in another location,\n" + "and try again.");
    return;
  }
  renamingCode=true;
  String prompt=(current == code[0]) ? "New name for sketch:" : "New name for file:";
  String oldName=(current.flavor == PDE) ? current.name : current.name + ".java";
  editor.status.edit(prompt,oldName);
}
