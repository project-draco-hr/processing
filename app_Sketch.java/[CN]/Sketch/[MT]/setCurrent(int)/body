{
  if (current == code[which]) {
    return;
  }
  if (current != null) {
    current.program=editor.getText();
    current.selectionStart=editor.textarea.getSelectionStart();
    current.selectionStop=editor.textarea.getSelectionEnd();
    current.scrollPosition=editor.textarea.getScrollPosition();
  }
  current=code[which];
  editor.setText(current.program,current.selectionStart,current.selectionStop,current.undo);
  editor.textarea.setScrollPosition(current.scrollPosition);
  editor.header.rebuild();
}
