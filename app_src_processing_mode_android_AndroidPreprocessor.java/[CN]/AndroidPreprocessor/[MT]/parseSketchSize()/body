{
  String scrubbed=processing.mode.java.JavaBuild.scrubComments(sketch.getCode(0).getProgram());
  String[] matches=PApplet.match(scrubbed,processing.mode.java.JavaBuild.SIZE_REGEX);
  if (matches != null) {
    boolean badSize=false;
    if (matches[1].equals("screenWidth") || matches[1].equals("screenHeight") || matches[2].equals("screenWidth")|| matches[2].equals("screenHeight")) {
      final String message="The screenWidth and screenHeight variables are named\n" + "displayWidth and displayHeight in this release of Processing.";
      Base.showWarning("Time for a quick update",message,null);
      return false;
    }
    if (!matches[1].equals("displayWidth") && !matches[1].equals("displayHeight") && PApplet.parseInt(matches[1],-1) == -1) {
      badSize=true;
    }
    if (!matches[2].equals("displayWidth") && !matches[2].equals("displayHeight") && PApplet.parseInt(matches[2],-1) == -1) {
      badSize=true;
    }
    if (badSize) {
      final String message="The size of this applet could not automatically be determined\n" + "from your code. Use only numeric values (not variables) for the\n" + "size() command. See the size() reference for more information.";
      Base.showWarning("Could not find sketch size",message,null);
      System.out.println("More about the size() command on Android can be");
      System.out.println("found here: http://wiki.processing.org/w/Android");
      return false;
    }
    sizeStatement=matches[0];
    sketchWidth=matches[1];
    sketchHeight=matches[2];
    sketchRenderer=matches[3].trim();
    if (sketchRenderer.length() == 0) {
      sketchRenderer=null;
    }
  }
 else {
    sizeStatement=null;
    sketchWidth=null;
    sketchHeight=null;
    sketchRenderer=null;
  }
  return true;
}
