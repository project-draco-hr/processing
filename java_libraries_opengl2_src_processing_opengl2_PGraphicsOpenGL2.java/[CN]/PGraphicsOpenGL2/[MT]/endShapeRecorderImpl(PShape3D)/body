{
  recordingShape=false;
  if (0 < recordedVertices.size() && shape != null) {
    shape.setVertices(recordedVertices);
    shape.setColors(recordedColors);
    shape.setNormals(recordedNormals);
    if (recordedIndices != null) {
      shape.initIndices(recordedIndices.size());
      shape.setIndices(recordedIndices);
    }
    shape.optimizeChildren(recordedChildren);
    shape.setChildren(recordedChildren);
    for (int t=0; t < recTexturesCount; t++) {
      shape.setTexcoords(t,recordedTexCoords[t]);
    }
    recordedVertices.clear();
    recordedColors.clear();
    recordedNormals.clear();
    for (int t=0; t < maxTextureUnits; t++) {
      recordedTexCoords[t].clear();
    }
    if (recordedIndices != null) {
      recordedIndices.clear();
    }
    recordedChildren.clear();
  }
}
