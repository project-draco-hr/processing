{
  updateTessellation();
  stroke=PGL.javaToNativeARGB(stroke);
  if (havePoints) {
    int[] indices=inGeo.tessMap.pointIndices[index];
    int[] colors=tessGeo.pointColors;
    for (int i=0; i < indices.length; i++) {
      int tessIdx=indices[i];
      colors[tessIdx]=stroke;
      root.setModifiedPointColors(tessIdx,tessIdx);
    }
  }
  if (haveLines) {
    int[] colors=tessGeo.lineColors;
    int[] indices=inGeo.tessMap.lineIndices0[index];
    for (int i=0; i < indices.length; i++) {
      int tessIdx=indices[i];
      colors[tessIdx]=stroke;
      root.setModifiedLineColors(tessIdx,tessIdx);
    }
    indices=inGeo.tessMap.lineIndices1[index];
    for (int i=0; i < indices.length; i++) {
      int tessIdx=indices[i];
      colors[tessIdx]=stroke;
      root.setModifiedLineColors(tessIdx,tessIdx);
    }
  }
  inGeo.scolors[index]=stroke;
}
