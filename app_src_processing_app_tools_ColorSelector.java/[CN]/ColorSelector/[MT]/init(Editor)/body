{
  this.editor=editor;
  frame=new JFrame("Color Selector");
  frame.getContentPane().setLayout(new BorderLayout());
  Box box=Box.createHorizontalBox();
  box.setBorder(new EmptyBorder(12,12,12,12));
  range=new ColorRange();
  range.init();
  Box rangeBox=new Box(BoxLayout.Y_AXIS);
  rangeBox.setAlignmentY(0);
  rangeBox.setBorder(BorderFactory.createBevelBorder(BevelBorder.LOWERED));
  rangeBox.add(range);
  box.add(rangeBox);
  box.add(Box.createHorizontalStrut(10));
  slider=new ColorSlider();
  slider.init();
  Box sliderBox=new Box(BoxLayout.Y_AXIS);
  sliderBox.setAlignmentY(0);
  sliderBox.setBorder(BorderFactory.createBevelBorder(BevelBorder.LOWERED));
  sliderBox.add(slider);
  box.add(sliderBox);
  box.add(Box.createHorizontalStrut(10));
  box.add(createColorFields());
  box.add(Box.createHorizontalStrut(10));
  frame.getContentPane().add(box,BorderLayout.CENTER);
  frame.pack();
  frame.setResizable(false);
  Dimension size=frame.getSize();
  Dimension screen=Toolkit.getDefaultToolkit().getScreenSize();
  frame.setLocation((screen.width - size.width) / 2,(screen.height - size.height) / 2);
  frame.setDefaultCloseOperation(WindowConstants.DO_NOTHING_ON_CLOSE);
  frame.addWindowListener(new WindowAdapter(){
    public void windowClosing(    WindowEvent e){
      frame.setVisible(false);
    }
  }
);
  Base.registerWindowCloseKeys(frame.getRootPane(),new ActionListener(){
    public void actionPerformed(    ActionEvent actionEvent){
      frame.setVisible(false);
    }
  }
);
  Base.setIcon(frame);
  hueField.getDocument().addDocumentListener(this);
  saturationField.getDocument().addDocumentListener(this);
  brightnessField.getDocument().addDocumentListener(this);
  redField.getDocument().addDocumentListener(this);
  greenField.getDocument().addDocumentListener(this);
  blueField.getDocument().addDocumentListener(this);
  hexField.getDocument().addDocumentListener(this);
  hexField.setText("#FFFFFF");
}
