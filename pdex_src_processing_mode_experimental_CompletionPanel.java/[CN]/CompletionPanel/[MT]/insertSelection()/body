{
  if (completionList.getSelectedValue() != null) {
    try {
      String currentSubword=fetchCurrentSubword();
      String selectedSuggestion=((CompletionCandidate)completionList.getSelectedValue()).getCompletionString().substring(currentSubword.length());
      logE(subWord + " <= subword,Inserting suggestion=> " + selectedSuggestion+ " Current sub: "+ currentSubword);
      textarea.getDocument().remove(insertionPosition - currentSubword.length(),currentSubword.length());
      textarea.getDocument().insertString(insertionPosition - currentSubword.length(),((CompletionCandidate)completionList.getSelectedValue()).getCompletionString(),null);
      if (selectedSuggestion.endsWith(")")) {
        if (!selectedSuggestion.endsWith("()")) {
          int x=selectedSuggestion.indexOf('(');
          if (x != -1) {
            textarea.setCaretPosition(insertionPosition + (x + 1));
          }
        }
      }
 else {
        textarea.setCaretPosition(insertionPosition + selectedSuggestion.length());
      }
      log("Suggestion inserted: " + System.currentTimeMillis());
      return true;
    }
 catch (    BadLocationException e1) {
      e1.printStackTrace();
    }
    hide();
  }
  return false;
}
