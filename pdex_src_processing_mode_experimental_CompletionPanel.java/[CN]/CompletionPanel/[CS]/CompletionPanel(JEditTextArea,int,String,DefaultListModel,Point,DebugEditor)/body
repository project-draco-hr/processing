{
  this.textarea=(TextArea)textarea;
  editor=dedit;
  this.insertionPosition=position;
  if (subWord.indexOf('.') != -1)   this.subWord=subWord.substring(subWord.lastIndexOf('.') + 1);
 else   this.subWord=subWord;
  popupMenu=new JPopupMenu();
  popupMenu.removeAll();
  popupMenu.setOpaque(false);
  popupMenu.setBorder(null);
  scrollPane=new JScrollPane();
  scrollPane.setViewportView(completionList=createSuggestionList(position,items));
  popupMenu.add(scrollPane,BorderLayout.CENTER);
  popupMenu.setPopupSize(280,setHeight(items.getSize()));
  this.textarea.errorCheckerService.getASTGenerator().updateJavaDoc((CompletionCandidate)completionList.getSelectedValue());
  textarea.requestFocusInWindow();
  popupMenu.show(textarea,location.x,textarea.getBaseline(0,0) + location.y);
  log("Suggestion constructed" + System.nanoTime());
}
