{
  setFocusable(true);
  setLayout(new GridBagLayout());
{
    GridBagConstraints c=new GridBagConstraints();
    c.gridx=0;
    c.gridy=0;
    c.weightx=1;
    c.fill=GridBagConstraints.BOTH;
    c.anchor=GridBagConstraints.WEST;
    headerText=new JTextPane();
    setHtmlTextStyle(headerText);
    add(headerText,c);
  }
{
    GridBagConstraints c=new GridBagConstraints();
    c.gridx=1;
    c.gridy=0;
    c.anchor=GridBagConstraints.WEST;
    categoryLabel=new JLabel();
    categoryLabel.setBorder(BorderFactory.createEmptyBorder(0,0,0,7));
    add(categoryLabel,c);
  }
{
    GridBagConstraints c=new GridBagConstraints();
    c.gridx=0;
    c.gridy=1;
    c.weighty=1;
    c.weightx=1;
    c.gridwidth=2;
    c.fill=GridBagConstraints.BOTH;
    c.anchor=GridBagConstraints.WEST;
    descriptionPanel=new JPanel();
    descriptionPanel.setOpaque(false);
    descriptionPanel.setLayout(new GridBagLayout());
    add(descriptionPanel,c);
    c=new GridBagConstraints();
    c.gridx=0;
    c.gridy=0;
    c.gridheight=2;
    c.fill=GridBagConstraints.BOTH;
    c.anchor=GridBagConstraints.CENTER;
    iconArea=new JPanel(){
      protected void paintComponent(      Graphics g){
        Image icon=contribManager.getContributionIcon(contrib.getType());
        if (icon != null) {
          g.drawImage(icon,0,0,this);
        }
      }
    }
;
    iconArea.setOpaque(false);
    Dimension d=new Dimension(ContributionManager.ICON_WIDTH,ContributionManager.ICON_HEIGHT);
    iconArea.setMinimumSize(d);
    iconArea.setPreferredSize(d);
    descriptionPanel.add(iconArea,c);
  }
{
    GridBagConstraints c=new GridBagConstraints();
    c.gridx=1;
    c.gridy=0;
    c.weighty=1;
    c.weightx=1;
    c.gridwidth=2;
    c.fill=GridBagConstraints.BOTH;
    c.anchor=GridBagConstraints.EAST;
    descriptionText=new JTextPane();
    setHtmlTextStyle(descriptionText);
    descriptionPanel.add(descriptionText,c);
  }
{
    GridBagConstraints c=new GridBagConstraints();
    c.gridx=1;
    c.gridy=1;
    c.weightx=1;
    c.insets=new Insets(-5,0,0,0);
    c.fill=GridBagConstraints.HORIZONTAL;
    c.anchor=GridBagConstraints.EAST;
    updateNotificationLabel=new JTextPane();
    updateNotificationLabel.setVisible(false);
    setHtmlTextStyle(updateNotificationLabel);
    descriptionPanel.add(updateNotificationLabel,c);
  }
{
    GridBagConstraints c=new GridBagConstraints();
    c.gridx=2;
    c.gridy=1;
    c.weightx=1;
    c.insets=new Insets(-5,0,0,0);
    c.anchor=GridBagConstraints.EAST;
    updateButton=new JButton("Update now");
    Dimension installButtonDimensions=updateButton.getPreferredSize();
    installButtonDimensions.width=ContributionPanel.BUTTON_WIDTH;
    updateButton.setMinimumSize(installButtonDimensions);
    updateButton.setPreferredSize(installButtonDimensions);
    updateButton.setOpaque(false);
    updateButton.setVisible(false);
    updateButton.addActionListener(new ActionListener(){
      public void actionPerformed(      ActionEvent e){
        updateButton.setEnabled(false);
        String url=contribManager.getListing().getAdvertisedContribution(contrib).link;
        installContribution(contrib,url);
      }
    }
);
    descriptionPanel.add(updateButton,c);
  }
}
