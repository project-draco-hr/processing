{
  htmlPanes=new HashSet<JTextPane>();
  enableHyperlinks=false;
  alreadySelected=false;
  conditionalHyperlinkOpener=new HyperlinkListener(){
    public void hyperlinkUpdate(    HyperlinkEvent e){
      if (e.getEventType() == HyperlinkEvent.EventType.ACTIVATED) {
        if (enableHyperlinks) {
          if (e.getURL() != null) {
            Base.openURL(e.getURL().toString());
          }
        }
      }
    }
  }
;
  installActionListener=new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      if (contrib instanceof AdvertisedContribution) {
        installContribution((AdvertisedContribution)contrib);
      }
    }
  }
;
  undoActionListener=new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      if (contrib instanceof InstalledContribution) {
        InstalledContribution installed=(InstalledContribution)contrib;
        ContributionManager.removeFlagForDeletion(installed);
        contribManager.getListing().replaceContribution(contrib,contrib);
      }
    }
  }
;
  removeActionListener=new ActionListener(){
    public void actionPerformed(    ActionEvent arg){
      if (contrib.isInstalled() && contrib instanceof InstalledContribution) {
        updateButton.setEnabled(false);
        installRemoveButton.setEnabled(false);
        installProgressBar.setVisible(true);
        contribManager.removeContribution((InstalledContribution)contrib,new JProgressMonitor(installProgressBar){
          public void finishedAction(){
            resetInstallProgressBarState();
            installRemoveButton.setEnabled(true);
          }
        }
);
      }
    }
  }
;
  contextMenu=new JPopupMenu();
  openFolder=new JMenuItem("Open Folder");
  openFolder.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      if (contrib instanceof InstalledContribution) {
        File folder=((InstalledContribution)contrib).getFolder();
        Base.openFolder(folder);
      }
    }
  }
);
  setLayout(new BoxLayout(this,BoxLayout.Y_AXIS));
  addPaneComponents();
  addProgressBarAndButton();
  setBackground(ContributionListPanel.this.getBackground());
  setOpaque(true);
  setSelected(false);
  setExpandListener(this,new MouseAdapter(){
    public void mousePressed(    MouseEvent e){
      setSelectedPanel(ContributionPanel.this);
    }
  }
);
}
