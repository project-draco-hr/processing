{
  int count=0;
synchronized (contributionPanelsByInfo) {
    for (    Entry<ContributionInfo,ContributionPanel> entry : contributionPanelsByInfo.entrySet()) {
      ContributionPanel panel=entry.getValue();
      if (panel.isVisible() && panel.isSelected()) {
        panel.setBackground(UIManager.getColor("List.selectionBackground"));
        panel.setForeground(UIManager.getColor("List.selectionForeground"));
        panel.setBorder(UIManager.getBorder("List.focusCellHighlightBorder"));
        count++;
      }
 else {
        Border border=null;
        if (Base.isMacOS() && panel.isVisible()) {
          if (count % 2 == 1) {
            border=UIManager.getBorder("List.evenRowBackgroundPainter");
          }
 else {
            border=UIManager.getBorder("List.oddRowBackgroundPainter");
          }
          count++;
        }
        if (border == null) {
          border=BorderFactory.createEmptyBorder(1,1,1,1);
        }
        panel.setBorder(border);
        panel.setBackground(ContributionListPanel.this.getBackground());
        panel.setForeground(UIManager.getColor("List.foreground"));
      }
      panel.updateHyperLinkStyles();
      panel.setIcon(contributionManager.getContributionIcon(entry.getKey().getType()));
    }
  }
}
