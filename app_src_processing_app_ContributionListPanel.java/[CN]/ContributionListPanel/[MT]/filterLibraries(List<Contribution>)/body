{
synchronized (panelByContribution) {
    Set<Contribution> hiddenPanels=new TreeSet(contribManager.getListing().getComparator());
    hiddenPanels.addAll(panelByContribution.keySet());
    for (    Contribution info : filteredContributions) {
      ContributionPanel panel=panelByContribution.get(info);
      if (panel != null) {
        panel.setVisible(true);
        hiddenPanels.remove(info);
      }
    }
    for (    Contribution info : hiddenPanels) {
      ContributionPanel panel=panelByContribution.get(info);
      if (panel != null) {
        panel.setVisible(false);
      }
    }
  }
}
