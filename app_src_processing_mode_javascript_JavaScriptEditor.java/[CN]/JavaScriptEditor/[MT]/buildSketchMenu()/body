{
  JMenuItem startServerItem=Base.newJMenuItem("Start server",'R');
  startServerItem.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      handleStartServer();
    }
  }
);
  JMenuItem stopServerItem=new JMenuItem("Stop server");
  stopServerItem.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      handleStopServer();
    }
  }
);
  JMenuItem showDirectivesWindow=new JMenuItem("Directives");
  showDirectivesWindow.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      handleShowDirectivesEditor();
    }
  }
);
  JMenuItem copyTemplate=new JMenuItem("Copy template to sketch");
  copyTemplate.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      Sketch sketch=getSketch();
      File ajs=sketch.getMode().getContentFile(JavaScriptBuild.EXPORTED_FOLDER_NAME);
      File tjs=new File(sketch.getFolder(),JavaScriptBuild.TEMPLATE_FOLDER_NAME);
      if (!tjs.exists()) {
        try {
          Base.copyDir(ajs,tjs);
          statusNotice("Default template copied.");
          Base.openFolder(tjs);
        }
 catch (        java.io.IOException ioe) {
          Base.showWarning("Copy default template folder","Something went wrong when copying the template folder.",ioe);
        }
      }
 else       statusError("You need to remove the current " + "\"" + JavaScriptBuild.TEMPLATE_FOLDER_NAME + "\" "+ "folder from the sketch.");
    }
  }
);
  return buildSketchMenu(new JMenuItem[]{startServerItem,stopServerItem,showDirectivesWindow,copyTemplate});
}
