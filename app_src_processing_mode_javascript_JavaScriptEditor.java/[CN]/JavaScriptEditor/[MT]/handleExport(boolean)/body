{
  if (!handleExportCheckModified()) {
    return false;
  }
 else {
    toolbar.activate(JavaScriptToolbar.EXPORT);
    try {
      boolean success=jsMode.handleExport(sketch);
      if (success && openFolder) {
        File exportFolder=new File(sketch.getFolder(),JavaScriptBuild.EXPORTED_FOLDER_NAME);
        Base.openFolder(exportFolder);
        statusNotice("Finished exporting.");
      }
 else       if (!success) {
        return false;
      }
    }
 catch (    Exception e) {
      statusError(e);
      toolbar.deactivate(JavaScriptToolbar.EXPORT);
      return false;
    }
    toolbar.deactivate(JavaScriptToolbar.EXPORT);
  }
  return true;
}
