{
  boolean canDraw=pg.parent.canDraw();
  if (pg.initialized && (canDraw || prevCanDraw)) {
    try {
      drawLatch=new CountDownLatch(1);
      if (WINDOW_TOOLKIT == AWT) {
        canvasAWT.display();
      }
 else       if (WINDOW_TOOLKIT == NEWT) {
        window.display();
      }
      try {
        drawLatch.await(DRAW_TIMEOUT_MILLIS,TimeUnit.MILLISECONDS);
      }
 catch (      InterruptedException e) {
        e.printStackTrace();
      }
      if (canDraw)       prevCanDraw=true;
 else       prevCanDraw=false;
    }
 catch (    GLException e) {
      Throwable tr=e.getCause();
      if (tr instanceof RuntimeException) {
        throw (RuntimeException)tr;
      }
 else {
        throw new RuntimeException(tr);
      }
    }
  }
}
