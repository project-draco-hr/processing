{
  if (USE_DIRECT_BUFFERS || (buf.hasArray() && buf.array() != arr)) {
    buf.position(4 * offset);
    buf.put(arr,4 * offset,4 * size);
    buf.rewind();
  }
}
