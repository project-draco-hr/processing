{
  boolean needBeginOp=format != STENCIL_INDEX && format != DEPTH_COMPONENT && format != DEPTH_STENCIL;
  if (needBeginOp) {
    PGraphicsOpenGL.pgCurrent.beginPixelsOp(PGraphicsOpenGL.OP_READ);
  }
  readPixelsImpl(x,y,width,height,format,type,buffer);
  if (needBeginOp) {
    PGraphicsOpenGL.pgCurrent.endPixelsOp();
  }
}
