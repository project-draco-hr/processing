{
  final EditorToolbar nextToolbar;
  if (debugToolbarShown) {
    if (javaToolbar == null)     javaToolbar=createToolbar();
    nextToolbar=javaToolbar;
    debugToolbarShown=false;
    log("Switching to Java Mode Toolbar");
  }
 else {
    if (debugToolbar == null)     debugToolbar=new DebugToolbar(this,getBase());
    nextToolbar=debugToolbar;
    debugToolbarShown=true;
    log("Switching to Debugger Toolbar");
  }
  SwingUtilities.invokeLater(new Runnable(){
    public void run(){
      Box upper=(Box)splitPane.getComponent(0);
      upper.remove(0);
      upper.add(nextToolbar,0);
      upper.validate();
      nextToolbar.repaint();
      toolbar=nextToolbar;
    }
  }
);
}
