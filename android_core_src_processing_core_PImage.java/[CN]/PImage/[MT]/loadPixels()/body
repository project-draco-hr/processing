{
  if (pixels == null || pixels.length != width * height) {
    pixels=new int[width * height];
  }
  if (bitmap != null) {
    bitmap.getPixels(pixels,0,width,0,0,width,height);
  }
  if (parent.g.is3D() && 0 < width && 0 < height) {
    if (texture == null) {
      if (texParams == null) {
        texParams=PTexture.newParameters();
      }
      texture=new PTexture(parent,width,height,texParams);
    }
    pixelsToTexture();
  }
}
