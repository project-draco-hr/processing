{
  if (x < 0) {
    w+=x;
    x=0;
  }
  if (y < 0) {
    h+=y;
    y=0;
  }
  if (x + w > width)   w=width - x;
  if (y + h > height)   h=height - y;
  if (w < 0) {
    w=0;
  }
  if (h < 0) {
    h=0;
  }
  return getImpl(x,y,w,h);
}
