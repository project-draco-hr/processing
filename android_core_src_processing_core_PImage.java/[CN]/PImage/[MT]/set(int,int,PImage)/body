{
  if (src.format == ALPHA) {
    throw new RuntimeException("set() not available for ALPHA images");
  }
  int sx=0;
  int sy=0;
  int sw=src.width;
  int sh=src.height;
  if (x < 0) {
    sx-=x;
    sw+=x;
    x=0;
  }
  if (y < 0) {
    sy-=y;
    sh+=y;
    y=0;
  }
  if (x + sw > width) {
    sw=width - x;
  }
  if (y + sh > height) {
    sh=height - y;
  }
  if ((sw <= 0) || (sh <= 0))   return;
  setImpl(x,y,sx,sy,sw,sh,src);
}
