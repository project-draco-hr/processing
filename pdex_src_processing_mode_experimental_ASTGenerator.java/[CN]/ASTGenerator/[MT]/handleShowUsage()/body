{
  System.out.println("Last clicked word:" + lastClickedWord);
  if (lastClickedWord == null && editor.ta.getSelectedText() == null) {
    editor.statusError("Highlight the class/function/variable name first");
    return;
  }
  if (errorCheckerService.hasSyntaxErrors()) {
    editor.statusError("Can't perform action until syntax errors are fixed :(");
    return;
  }
  DefaultMutableTreeNode defCU=findAllOccurrences();
  String selText=lastClickedWord == null ? editor.ta.getSelectedText() : lastClickedWord;
  if (defCU == null) {
    editor.statusError("Can't locate definition of " + selText);
    return;
  }
  if (defCU.getChildCount() == 0)   return;
  treeRename.setModel(new DefaultTreeModel(defCU));
  ((DefaultTreeModel)treeRename.getModel()).reload();
  treeRename.setRootVisible(false);
  frmOccurenceList.setTitle("Usage of \"" + selText + "\"");
  frmOccurenceList.setVisible(true);
  lastClickedWord=null;
  lastClickedWordNode=null;
}
