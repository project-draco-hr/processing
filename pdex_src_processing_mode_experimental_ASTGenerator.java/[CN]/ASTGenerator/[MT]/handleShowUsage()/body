{
  if (editor.ta.getSelectedText() == null) {
    editor.statusError("Highlight the class/function/variable name first");
    return;
  }
  if (errorCheckerService.hasSyntaxErrors()) {
    editor.statusError("Can't perform action until syntax errors are fixed :(");
    return;
  }
  DefaultMutableTreeNode defCU=findAllOccurrences();
  if (defCU == null) {
    editor.statusError("Can't locate definition of " + editor.ta.getSelectedText());
    return;
  }
  treeRename.setModel(new DefaultTreeModel(defCU));
  ((DefaultTreeModel)treeRename.getModel()).reload();
  frmOccurenceList.setTitle("Usage of " + editor.ta.getSelectedText());
  frmOccurenceList.setVisible(true);
}
