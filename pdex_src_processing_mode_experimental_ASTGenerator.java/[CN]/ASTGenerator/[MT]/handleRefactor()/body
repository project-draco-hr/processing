{
  if (editor.ta.getSelectedText() == null) {
    editor.statusError("Highlight the class/function/variable name first");
    return;
  }
  if (errorCheckerService.hasSyntaxErrors()) {
    editor.statusError("Can't rename until syntax errors are fixed :(");
    return;
  }
  if (!frmRename.isVisible()) {
    frmRename.setVisible(true);
    SwingUtilities.invokeLater(new Runnable(){
      @Override public void run(){
        lblRefactorOldName.setText("Current name: " + editor.ta.getSelectedText());
        txtRenameField.requestFocus();
      }
    }
);
  }
  frmRename.toFront();
}
