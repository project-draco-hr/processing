{
  try {
    factory=new ClassPathFactory();
    StringBuffer tehPath=new StringBuffer(System.getProperty("java.class.path") + File.pathSeparatorChar + System.getProperty("java.home")+ "/lib/rt.jar"+ File.pathSeparatorChar);
    if (errorCheckerService.classpathJars != null) {
      for (      URL jarPath : errorCheckerService.classpathJars) {
        tehPath.append(jarPath.getPath() + File.pathSeparatorChar);
      }
    }
    StringTokenizer st=new StringTokenizer(tehPath.toString(),File.pathSeparatorChar + "");
    while (st.hasMoreElements()) {
      String sstr=(String)st.nextElement();
      System.out.println(sstr);
    }
    classPath=factory.createFromPath(tehPath.toString());
    for (    String packageName : classPath.listPackages("")) {
      System.out.println(packageName);
    }
    RegExpResourceFilter regExpResourceFilter=new RegExpResourceFilter(".*","ArrayList.class");
    String[] resources=classPath.findResources("",regExpResourceFilter);
    for (    String className : resources) {
      System.out.println("-> " + className);
    }
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
}
