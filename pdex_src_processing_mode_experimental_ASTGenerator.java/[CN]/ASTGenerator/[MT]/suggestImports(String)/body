{
  if (frmImportSuggest != null)   if (frmImportSuggest.isVisible())   return;
  System.out.println("Looking for class " + className);
  RegExpResourceFilter regf=new RegExpResourceFilter(Pattern.compile(".*"),Pattern.compile(className + ".class",Pattern.CASE_INSENSITIVE));
  String[] resources=classPath.findResources("",regf);
  if (resources.length == 0) {
    System.out.println("Couldn't find import for class " + className);
    return;
  }
  for (int i=0; i < resources.length; i++) {
    resources[i]=resources[i].replace('/','.').substring(0,resources[i].length() - 6);
  }
  if (resources.length >= 1) {
    final JList classList=new JList(resources);
    classList.setSelectionMode(ListSelectionModel.SINGLE_SELECTION);
    frmImportSuggest=new JFrame();
    frmImportSuggest.setBounds(300,300,400,300);
    frmImportSuggest.setLayout(new BoxLayout(frmImportSuggest.getContentPane(),BoxLayout.Y_AXIS));
    ((JComponent)frmImportSuggest.getContentPane()).setBorder(BorderFactory.createEmptyBorder(5,5,5,5));
    JLabel lbl=new JLabel("<html>The class \"" + className + "\" couldn't be determined, choose the import you need from the following list.</html>");
    JScrollPane jsp=new JScrollPane();
    jsp.setViewportView(classList);
    JButton btnInsertImport=new JButton("Insert import");
    btnInsertImport.addActionListener(new ActionListener(){
      public void actionPerformed(      ActionEvent evt){
        if (classList.getSelectedValue() != null) {
          try {
            String impString="import " + classList.getSelectedValue() + ";\n";
            editor.textArea().getDocument().insertString(0,impString,null);
            errorCheckerService.runManualErrorCheck();
            frmImportSuggest.setVisible(false);
            frmImportSuggest=null;
          }
 catch (          BadLocationException e) {
            System.out.println("Failed to insert import for " + className);
            e.printStackTrace();
          }
        }
      }
    }
);
    frmImportSuggest.add(lbl);
    frmImportSuggest.add(jsp);
    frmImportSuggest.add(btnInsertImport);
    frmImportSuggest.setDefaultCloseOperation(JFrame.HIDE_ON_CLOSE);
    frmImportSuggest.setVisible(true);
  }
}
