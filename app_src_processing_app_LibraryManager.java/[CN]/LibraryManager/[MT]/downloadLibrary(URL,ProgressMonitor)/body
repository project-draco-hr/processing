{
  try {
    String libName=guessLibraryName(url.getFile());
    if (libName != null) {
      File tmpFolder=Base.createTempFolder(libName,"download");
      File libFile=new File(tmpFolder,libName + ".plb");
      libFile.setWritable(true);
      try {
        if (downloadFile(url,libFile,progressMonitor)) {
          return libFile;
        }
      }
 catch (      IOException e) {
        Base.showWarning("Trouble downloading file","An error occured while downloading the library: " + e.getMessage(),e);
      }
    }
  }
 catch (  IOException e) {
    Base.showError("Trouble creating temporary folder","Could not create a place to store libraries being downloaded.\n" + "That's gonna prevent us from continuing.",e);
  }
  return null;
}
