{
  Canvas canvas=surface.canvas;
  surface.fx.context=canvas.getGraphicsContext2D();
  StackPane stackPane=new StackPane();
  stackPane.getChildren().add(canvas);
  canvas.widthProperty().bind(stackPane.widthProperty());
  canvas.heightProperty().bind(stackPane.heightProperty());
  PApplet sketch=surface.sketch;
  int width=sketch.sketchWidth();
  int height=sketch.sketchHeight();
  int smooth=sketch.sketchSmooth();
  SceneAntialiasing sceneAntialiasing=(smooth == 0) ? SceneAntialiasing.DISABLED : SceneAntialiasing.BALANCED;
  stage.setScene(new Scene(stackPane,width,height,false,sceneAntialiasing));
  surface.stage=stage;
}
