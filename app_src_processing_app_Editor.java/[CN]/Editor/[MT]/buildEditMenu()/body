{
  JMenu menu=new JMenu("Edit");
  JMenuItem item;
  undoItem=Toolkit.newJMenuItem("Undo",'Z');
  undoItem.addActionListener(undoAction=new UndoAction());
  menu.add(undoItem);
  if (Base.isWindows()) {
    redoItem=Toolkit.newJMenuItem("Redo",'Y');
  }
 else {
    redoItem=Toolkit.newJMenuItemShift("Redo",'Z');
  }
  redoItem.addActionListener(redoAction=new RedoAction());
  menu.add(redoItem);
  menu.addSeparator();
  item=Toolkit.newJMenuItem("Cut",'X');
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      handleCut();
    }
  }
);
  menu.add(item);
  item=Toolkit.newJMenuItem("Copy",'C');
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      textarea.copy();
    }
  }
);
  menu.add(item);
  item=Toolkit.newJMenuItemShift("Copy as HTML",'C');
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      handleCopyAsHTML();
    }
  }
);
  menu.add(item);
  item=Toolkit.newJMenuItem("Paste",'V');
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      textarea.paste();
      sketch.setModified(true);
    }
  }
);
  menu.add(item);
  item=Toolkit.newJMenuItem("Select All",'A');
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      textarea.selectAll();
    }
  }
);
  menu.add(item);
  menu.addSeparator();
  item=Toolkit.newJMenuItem("Auto Format",'T');
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      handleAutoFormat();
    }
  }
);
  menu.add(item);
  item=Toolkit.newJMenuItem("Comment/Uncomment",'/');
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      handleCommentUncomment();
    }
  }
);
  menu.add(item);
  item=Toolkit.newJMenuItem("Increase Indent",']');
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      handleIndentOutdent(true);
    }
  }
);
  menu.add(item);
  item=Toolkit.newJMenuItem("Decrease Indent",'[');
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      handleIndentOutdent(false);
    }
  }
);
  menu.add(item);
  menu.addSeparator();
  item=Toolkit.newJMenuItem("Find...",'F');
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      if (find == null) {
        find=new FindReplace(Editor.this);
      }
      find.setVisible(true);
    }
  }
);
  menu.add(item);
  item=Toolkit.newJMenuItem("Find Next",'G');
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      if (find != null) {
        find.findNext();
      }
    }
  }
);
  menu.add(item);
  item=Toolkit.newJMenuItemShift("Find Previous",'G');
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      if (find != null) {
        find.findPrevious();
      }
    }
  }
);
  menu.add(item);
  item=Toolkit.newJMenuItemAlt("Use Selection for Find",'F');
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      if (find == null) {
        find=new FindReplace(Editor.this);
      }
      find.setFindText(getSelectedText());
    }
  }
);
  menu.add(item);
  return menu;
}
