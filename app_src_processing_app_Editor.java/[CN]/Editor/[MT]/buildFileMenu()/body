{
  JMenuItem item;
  JMenu menu=new JMenu("File");
  item=newJMenuItem("New",'N');
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      base.handleNew(false);
    }
  }
);
  menu.add(item);
  item=Editor.newJMenuItem("Open...",'O',false);
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      base.handleOpen();
    }
  }
);
  menu.add(item);
  sketchbookMenu=new JMenu("Sketchbook");
  base.rebuildSketchbookMenu(sketchbookMenu);
  menu.add(sketchbookMenu);
  JMenu examplesMenu=new JMenu("Examples");
  base.rebuildExamplesMenu(examplesMenu);
  menu.add(examplesMenu);
  saveMenuItem=newJMenuItem("Save",'S');
  saveMenuItem.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      handleSave(false);
    }
  }
);
  menu.add(saveMenuItem);
  saveAsMenuItem=newJMenuItem("Save As...",'S',true);
  saveAsMenuItem.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      handleSaveAs();
    }
  }
);
  menu.add(saveAsMenuItem);
  item=newJMenuItem("Export",'E');
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      handleExport();
    }
  }
);
  menu.add(item);
  exportAppItem=newJMenuItem("Export Application",'E',true);
  exportAppItem.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      handleExportApplication();
    }
  }
);
  menu.add(exportAppItem);
  menu.addSeparator();
  item=newJMenuItem("Page Setup",'P',true);
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      handlePageSetup();
    }
  }
);
  menu.add(item);
  item=newJMenuItem("Print",'P');
  item.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      handlePrint();
    }
  }
);
  menu.add(item);
  if (!Base.isMacOS()) {
    menu.addSeparator();
    item=newJMenuItem("Preferences",',');
    item.addActionListener(new ActionListener(){
      public void actionPerformed(      ActionEvent e){
        base.handlePrefs();
      }
    }
);
    menu.add(item);
    menu.addSeparator();
    item=newJMenuItem("Quit",'Q');
    item.addActionListener(new ActionListener(){
      public void actionPerformed(      ActionEvent e){
        handleQuitInternal();
      }
    }
);
    menu.add(item);
  }
  return menu;
}
