{
  if (!reloadEnabled) {
    return;
  }
  try {
    WatchService watchService=FileSystems.getDefault().newWatchService();
    key=sketch.getFolder().toPath().register(watchService,StandardWatchEventKinds.ENTRY_CREATE,StandardWatchEventKinds.ENTRY_DELETE,StandardWatchEventKinds.ENTRY_MODIFY);
  }
 catch (  IOException e) {
  }
  final WatchKey finKey=key;
  if (finKey != null) {
    WindowFocusListener fl=new WindowFocusListener(){
      @Override public void windowGainedFocus(      WindowEvent arg0){
        if (key != finKey) {
          return;
        }
        if (!reloadEnabled) {
          return;
        }
        if (!finKey.isValid()) {
          return;
        }
        List<WatchEvent<?>> events=finKey.pollEvents();
        if (!changed)         processFileEvents(events);
      }
      @Override public void windowLostFocus(      WindowEvent arg0){
        if (key != finKey) {
          return;
        }
        List<WatchEvent<?>> events=finKey.pollEvents();
        if (!changed) {
          processFileEvents(events);
        }
        changed=false;
      }
    }
;
    this.addWindowFocusListener(fl);
  }
}
