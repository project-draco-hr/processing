{
  if (!reloadEnabled) {
    return;
  }
  try {
    WatchService watchService=FileSystems.getDefault().newWatchService();
    key=sketch.getFolder().toPath().register(watchService,StandardWatchEventKinds.ENTRY_MODIFY);
  }
 catch (  IOException e) {
  }
  final WatchKey finKey=key;
  if (finKey != null) {
    stopReloadThread=false;
    Thread th=new Thread(new Runnable(){
      @Override public void run(){
        while (true) {
          try {
            Thread.sleep(FILE_CHECK_DELAY);
          }
 catch (          InterruptedException e) {
          }
          List<WatchEvent<?>> events=finKey.pollEvents();
          if (stopReloadThread) {
            break;
          }
          if (!reloadEnabled) {
            break;
          }
          processFileEvents(events);
          if (!finKey.isValid()) {
            break;
          }
        }
      }
    }
);
    th.start();
  }
}
