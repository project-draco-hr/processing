{
  modeMenu=new JMenu();
  for (  final Mode m : base.getModeList()) {
    if (mode == m) {
      JRadioButtonMenuItem item=new JRadioButtonMenuItem(m.getTitle());
      item.setSelected(true);
      modeMenu.add(item);
    }
 else {
      JMenuItem item=new JMenuItem(m.getTitle());
      item.addActionListener(new ActionListener(){
        public void actionPerformed(        ActionEvent e){
          base.changeMode(m);
        }
      }
);
      modeMenu.add(item);
    }
  }
  modeMenu.addSeparator();
  JMenuItem addLib=new JMenuItem("Add Mode...");
  addLib.addActionListener(new ActionListener(){
    public void actionPerformed(    ActionEvent e){
      base.handleOpenModeManager();
    }
  }
);
  modeMenu.add(addLib);
}
