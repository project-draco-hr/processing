{
  if (undo.canUndo() || compoundEdit != null && compoundEdit.isInProgress()) {
    this.setEnabled(true);
    undoItem.setEnabled(true);
    undoItem.setText(undo.getUndoPresentationName());
    putValue(Action.NAME,undo.getUndoPresentationName());
  }
 else {
    this.setEnabled(false);
    undoItem.setEnabled(false);
    undoItem.setText("Undo");
    putValue(Action.NAME,"Undo");
  }
}
