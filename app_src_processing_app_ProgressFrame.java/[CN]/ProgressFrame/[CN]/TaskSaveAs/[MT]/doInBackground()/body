{
  long totalSize=0;
  for (  File copyable : copyItems) {
    totalSize+=calcSize(copyable);
  }
  long progress=0;
  setProgress(0);
  for (  File copyable : ProgressFrame.this.copyItems) {
    if (copyable.isDirectory()) {
      copyDir(copyable,new File(ProgressFrame.this.newFolder,copyable.getName()),progress,totalSize);
      progress+=calcSize(copyable);
    }
 else {
      copyFile(copyable,new File(ProgressFrame.this.newFolder,copyable.getName()),progress,totalSize);
      if (calcSize(copyable) < 524288) {
        progress+=calcSize(copyable);
        setProgress((int)Math.min(Math.ceil(progress * 100.0 / totalSize),100));
      }
    }
  }
  return null;
}
