{
  float hr=w / 2f;
  float vr=h / 2f;
  float centerX=x + hr;
  float centerY=y + vr;
  if (fill) {
    boolean savedStroke=stroke;
    stroke=false;
    int startLUT=(int)(-0.5f + (start / TWO_PI) * SINCOS_LENGTH);
    int stopLUT=(int)(0.5f + (stop / TWO_PI) * SINCOS_LENGTH);
    beginShape();
    vertex(centerX,centerY);
    for (int i=startLUT; i < stopLUT; i++) {
      int ii=i % SINCOS_LENGTH;
      if (ii < 0)       ii+=SINCOS_LENGTH;
      vertex(centerX + cosLUT[ii] * hr,centerY + sinLUT[ii] * vr);
    }
    endShape(CLOSE);
    stroke=savedStroke;
  }
  if (stroke) {
    boolean savedFill=fill;
    fill=false;
    int startLUT=(int)(0.5f + (start / TWO_PI) * SINCOS_LENGTH);
    int stopLUT=(int)(0.5f + (stop / TWO_PI) * SINCOS_LENGTH);
    beginShape();
    int increment=1;
    for (int i=startLUT; i < stopLUT; i+=increment) {
      int ii=i % SINCOS_LENGTH;
      if (ii < 0)       ii+=SINCOS_LENGTH;
      vertex(centerX + cosLUT[ii] * hr,centerY + sinLUT[ii] * vr);
    }
    vertex(centerX + cosLUT[stopLUT % SINCOS_LENGTH] * hr,centerY + sinLUT[stopLUT % SINCOS_LENGTH] * vr);
    endShape();
    fill=savedFill;
  }
}
