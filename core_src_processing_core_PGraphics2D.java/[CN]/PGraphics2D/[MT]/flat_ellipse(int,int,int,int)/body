{
  if (unwarped()) {
    float x=ctm.multX(centerX,centerY);
    float y=ctm.multY(centerX,centerY);
    centerX=(int)x;
    centerY=(int)y;
  }
  if (fill)   flat_ellipse_internal(centerX,centerY,a,b,true);
  if (stroke)   flat_ellipse_internal(centerX,centerY,a,b,false);
}
