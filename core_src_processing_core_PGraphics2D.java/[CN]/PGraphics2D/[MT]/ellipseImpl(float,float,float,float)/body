{
  if (!smooth && (strokeWeight == 1) && !fillAlpha&& !strokeAlpha&& !ctm.isWarped()) {
    float hradius=w / 2f;
    float vradius=h / 2f;
    int centerX=(int)(x1 + hradius + ctm.m02);
    int centerY=(int)(y1 + vradius + ctm.m12);
    int hradiusi=(int)hradius;
    int vradiusi=(int)vradius;
    if (hradiusi == vradiusi) {
      if (fill)       flat_circle_fill(centerX,centerY,hradiusi);
      if (stroke)       flat_circle_stroke(centerX,centerY,hradiusi);
    }
 else {
      if (fill)       flat_ellipse_internal(centerX,centerY,hradiusi,vradiusi,true);
      if (stroke)       flat_ellipse_internal(centerX,centerY,hradiusi,vradiusi,false);
    }
  }
 else {
    super.ellipseImpl(x1,y1,w,h);
  }
}
