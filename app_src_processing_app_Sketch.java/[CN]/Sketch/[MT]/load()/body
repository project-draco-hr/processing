{
  codeFolder=new File(folder,"code");
  dataFolder=new File(folder,"data");
  String list[]=folder.list();
  codeCount=0;
  code=new SketchCode[list.length];
  String[] extensions=getExtensions();
  for (  String filename : list) {
    if (filename.startsWith("."))     continue;
    if (new File(folder,filename).isDirectory())     continue;
    String base=filename;
    for (    String extension : extensions) {
      if (base.toLowerCase().endsWith("." + extension)) {
        base=base.substring(0,base.length() - (extension.length() + 1));
        if (Sketch.isSanitaryName(base)) {
          code[codeCount++]=new SketchCode(new File(folder,filename),extension);
        }
      }
    }
  }
  code=(SketchCode[])PApplet.subset(code,0,codeCount);
  for (int i=1; i < codeCount; i++) {
    if (code[i].getFile().equals(primaryFile)) {
      SketchCode temp=code[0];
      code[0]=code[i];
      code[i]=temp;
      break;
    }
  }
  sortCode();
  if (editor != null) {
    setCurrentCode(0);
  }
}
