{
  ensureExistence();
  if (editor != null) {
    current.setProgram(editor.getText());
    if (Preferences.getBoolean("editor.external")) {
      current=null;
      load();
    }
  }
  if (targetFolder != null) {
    if (Preferences.getBoolean("export.delete_target_folder")) {
      Base.removeDir(targetFolder);
    }
    targetFolder.mkdirs();
  }
}
