{
  ensureExistence();
  current.program=editor.getText();
  if (Preferences.getBoolean("editor.external")) {
    current=null;
    load();
  }
  cleanup();
  String suggestedClassName=name;
  mainClassName=build(tempBuildFolder.getAbsolutePath(),suggestedClassName);
  return (mainClassName != null);
}
