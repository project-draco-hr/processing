{
  ensureExistence();
  current.setProgram(editor.getText());
  if (Preferences.getBoolean("editor.external")) {
    current=null;
    load();
  }
  cleanup();
  String suggestedClassName=name;
  appletClassName=build(tempBuildFolder.getAbsolutePath(),suggestedClassName);
  return (appletClassName != null);
}
