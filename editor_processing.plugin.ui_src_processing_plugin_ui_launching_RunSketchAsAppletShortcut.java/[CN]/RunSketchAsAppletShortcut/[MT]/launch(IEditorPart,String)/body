{
  IFile file=ResourceUtil.getFile(editor.getEditorInput());
  if (file == null) {
    ProcessingLog.logInfo("Launch aborted. Editor contents are not part of a Sketch Project in the workspace");
    return;
  }
  IProject proj=file.getProject();
  try {
    if (!proj.hasNature("processing.plugin.core.sketchNature")) {
      ProcessingLog.logInfo("Sketch could not be launched. The editor contains a file that is not part of a project with a Sketch nature.");
      return;
    }
    launch(createConfiguration(proj),mode);
  }
 catch (  CoreException e) {
    ProcessingLog.logError("Launch aborted.",e);
  }
}
