{
  if (selection instanceof IStructuredSelection) {
    Object element=((IStructuredSelection)selection).getFirstElement();
    if (element instanceof IResource) {
      IProject proj=((IResource)element).getProject();
      if (proj.isAccessible()) {
        launch(proj,mode);
      }
 else {
        ProcessingLog.logInfo("Sketch could not be launched. " + "Project was not accessible.");
      }
    }
 else {
      ProcessingLog.logInfo("Sketch could not be launched. " + "The launcher could not find a Sketch project associated with the provided selection." + "Try relaunching from the Processing Perspective, or launching a specific *.pde file.");
    }
  }
}
