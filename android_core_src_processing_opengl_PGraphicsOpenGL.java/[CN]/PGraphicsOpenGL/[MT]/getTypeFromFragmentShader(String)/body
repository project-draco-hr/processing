{
  String[] source=parent.loadStrings(filename);
  Pattern pattern=Pattern.compile("uniform *sampler2D *textureSampler");
  int type=PShader.COLOR;
  for (int i=0; i < source.length; i++) {
    Matcher matcher=pattern.matcher(source[i]);
    if (matcher.find()) {
      type=PShader.TEXTURE;
      break;
    }
  }
  return type;
}
