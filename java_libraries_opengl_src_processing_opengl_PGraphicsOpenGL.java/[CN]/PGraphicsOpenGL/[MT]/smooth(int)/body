{
  smooth=true;
  if (antialias != level) {
    antialias=level;
    if (primarySurface) {
      restartContext();
    }
 else {
      initOffscreen();
    }
  }
  int[] temp={0};
  gl.glGetIntegerv(GL.GL_SAMPLES,temp,0);
  if (antialias != temp[0]) {
    antialias=temp[0];
    PApplet.println("Effective multisampling level: " + antialias);
  }
  if (antialias < 2) {
    gl2f.glEnable(GL2.GL_MULTISAMPLE);
    gl2f.glEnable(GL2.GL_POINT_SMOOTH);
    gl2f.glEnable(GL2.GL_LINE_SMOOTH);
    gl2f.glEnable(GL2.GL_POLYGON_SMOOTH);
  }
}
