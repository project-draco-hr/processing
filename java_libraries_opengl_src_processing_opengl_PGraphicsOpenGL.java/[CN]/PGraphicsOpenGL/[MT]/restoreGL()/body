{
  blendMode(blendMode);
  if (hints[DISABLE_DEPTH_TEST]) {
    pgl.glDisable(PGL.GL_DEPTH_TEST);
  }
 else {
    pgl.glEnable(PGL.GL_DEPTH_TEST);
  }
  pgl.glDepthFunc(PGL.GL_LEQUAL);
  if (quality < 2) {
    pgl.glDisable(PGL.GL_MULTISAMPLE);
  }
 else {
    pgl.glEnable(PGL.GL_MULTISAMPLE);
    pgl.glDisable(PGL.GL_POINT_SMOOTH);
    pgl.glDisable(PGL.GL_LINE_SMOOTH);
    pgl.glDisable(PGL.GL_POLYGON_SMOOTH);
  }
  pgl.glViewport(viewport[0],viewport[1],viewport[2],viewport[3]);
  pgl.glFrontFace(PGL.GL_CW);
  pgl.glDisable(PGL.GL_CULL_FACE);
  pgl.glActiveTexture(PGL.GL_TEXTURE0);
  if (hints[DISABLE_DEPTH_MASK]) {
    pgl.glDepthMask(false);
  }
 else {
    pgl.glDepthMask(true);
  }
  if (pgl.primaryIsDoubleBuffered()) {
    pgl.glDrawBuffer(PGL.GL_BACK);
  }
}
