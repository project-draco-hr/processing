{
  PShader shader;
  if (kind == FLAT_SHADER) {
    shader=new PolyShaderSimple(parent);
    shader.setVertexShader(defPolyShaderVertSimpleURL);
  }
 else   if (kind == LIGHT_SHADER) {
    shader=new PolyShaderLit(parent);
    shader.setVertexShader(defPolyShaderVertLitURL);
  }
 else   if (kind == TEXTURE_SHADER) {
    shader=new PolyShaderTex(parent);
    shader.setVertexShader(defPolyShaderVertTexURL);
  }
 else   if (kind == FULL_SHADER) {
    shader=new PolyShaderFull(parent);
    shader.setVertexShader(defPolyShaderVertFullURL);
  }
 else   if (kind == LINE3D_SHADER) {
    shader=new LineShader(parent);
    shader.setVertexShader(defLineShaderVertURL);
  }
 else   if (kind == POINT3D_SHADER) {
    shader=new PointShader(parent);
    shader.setVertexShader(defPointShaderVertURL);
  }
 else {
    PGraphics.showWarning("Wrong shader type");
    return null;
  }
  shader.setFragmentShader(fragFilename);
  return shader;
}
