{
  textTex=(PFontTexture)textFont.getCache(ogl);
  if (textTex == null) {
    textTex=new PFontTexture(parent,textFont,maxTextureSize,maxTextureSize);
    textFont.setCache(this,textTex);
  }
 else {
    if (context.hashCode() != textTex.context.hashCode()) {
      for (int i=0; i < textTex.textures.length; i++) {
        textTex.textures[i].glID=0;
        textTex.textures[i]=null;
      }
      textTex=new PFontTexture(parent,textFont,maxTextureSize,maxTextureSize);
      textFont.setCache(this,textTex);
    }
  }
  textTex.setFirstTexture();
  int savedTextureMode=textureMode;
  boolean savedStroke=stroke;
  float savedNormalX=normalX;
  float savedNormalY=normalY;
  float savedNormalZ=normalZ;
  boolean savedTint=tint;
  float savedTintR=tintR;
  float savedTintG=tintG;
  float savedTintB=tintB;
  float savedTintA=tintA;
  int savedBlendMode=blendMode;
  textureMode=NORMAL;
  stroke=false;
  normalX=0;
  normalY=0;
  normalZ=1;
  tint=true;
  tintR=fillR;
  tintG=fillG;
  tintB=fillB;
  tintA=fillA;
  blendMode(BLEND);
  super.textLineImpl(buffer,start,stop,x,y);
  textureMode=savedTextureMode;
  stroke=savedStroke;
  normalX=savedNormalX;
  normalY=savedNormalY;
  normalZ=savedNormalZ;
  tint=savedTint;
  tintR=savedTintR;
  tintG=savedTintG;
  tintB=savedTintB;
  tintA=savedTintA;
  blendMode(savedBlendMode);
}
