{
  PTexture.Parameters params=(PTexture.Parameters)img.getParams(pgPrimary);
  if (params == null) {
    params=PTexture.newParameters();
    params.wrapU=textureWrap;
    params.wrapV=textureWrap;
    img.setParams(pgPrimary,params);
  }
  if (img.parent == null) {
    img.parent=parent;
  }
  PTexture tex=new PTexture(img.parent,img.width,img.height,params);
  img.loadPixels();
  if (img.pixels != null)   tex.set(img.pixels);
  img.setCache(pgPrimary,tex);
  return tex;
}
