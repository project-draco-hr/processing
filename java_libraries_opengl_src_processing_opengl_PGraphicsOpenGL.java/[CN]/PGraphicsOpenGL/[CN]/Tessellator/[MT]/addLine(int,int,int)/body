{
  IndexCache cache=tess.lineIndexCache;
  int count=cache.vertexCount[index];
  if (PGL.MAX_VERTEX_INDEX1 <= count + 4) {
    index=cache.addNew();
    count=0;
  }
  int iidx=cache.indexOffset[index] + cache.indexCount[index];
  int vidx=cache.vertexOffset[index] + cache.vertexCount[index];
  tess.putLineVertex(in,i0,i1,vidx);
  tess.lineDirWidths[4 * vidx + 3]=+strokeWeight / 2;
  tess.lineIndices[iidx++]=(short)(count + 0);
  in.addLineIndexToTessMap(i0,vidx);
  vidx++;
  tess.putLineVertex(in,i0,i1,vidx);
  tess.lineDirWidths[4 * vidx + 3]=-strokeWeight / 2;
  tess.lineIndices[iidx++]=(short)(count + 1);
  in.addLineIndexToTessMap(i0,vidx);
  vidx++;
  tess.putLineVertex(in,i1,i0,vidx);
  tess.lineDirWidths[4 * vidx + 3]=-strokeWeight / 2;
  tess.lineIndices[iidx++]=(short)(count + 2);
  in.addLineIndexToTessMap(i1,vidx);
  tess.lineIndices[iidx++]=(short)(count + 2);
  tess.lineIndices[iidx++]=(short)(count + 1);
  vidx++;
  tess.putLineVertex(in,i1,i0,vidx);
  tess.lineDirWidths[4 * vidx + 3]=+strokeWeight / 2;
  tess.lineIndices[iidx++]=(short)(count + 3);
  in.addLineIndexToTessMap(i1,vidx);
  cache.incCounts(index,6,4);
  return index;
}
