{
  if ((x < 0) || (y < 0) || (x >= width)|| (y >= height))   return 0;
  return (format == RGB) ? (pixels[y * width + x] & 0x00ffffff) : pixels[y * width + x];
}
