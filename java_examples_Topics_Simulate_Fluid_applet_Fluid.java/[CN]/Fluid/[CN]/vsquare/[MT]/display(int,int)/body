{
  float tcol=0;
  if (col > 255)   col=255;
  if (i > 0 && i < lwidth - 1 && u > 0 && u < lheight - 1) {
    tcol=(+v[i][u + 1].col + v[i + 1][u].col + v[i + 1][u + 1].col * 0.5f) * 0.4f;
    tcol=(int)(tcol + col * 0.5f);
  }
 else {
    tcol=(int)col;
  }
  fill(tcol,tcol,tcol);
  rect(x,y,res,res);
}
