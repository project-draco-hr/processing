{
  if (!lightingDependsOnVertexPosition && normalMode == NORMAL_MODE_SHAPE) {
    calc_lighting_contribution(shapeFirst,tempLightingContribution);
    for (int tri=0; tri < triangleCount; tri++) {
      light_triangle(tri,tempLightingContribution);
    }
  }
 else {
    for (int tri=0; tri < triangleCount; tri++) {
      light_triangle(tri);
    }
  }
}
