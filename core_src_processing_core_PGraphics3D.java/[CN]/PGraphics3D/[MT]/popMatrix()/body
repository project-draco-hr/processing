{
  if (projectionMode) {
    if (pmatrixStackDepth == 0) {
      throw new RuntimeException(ERROR_PUSHMATRIX_UNDERFLOW);
    }
    pmatrixStackDepth--;
    projection.set(pmatrixStack[pmatrixStackDepth]);
  }
 else {
    if (matrixStackDepth == 0) {
      throw new RuntimeException(ERROR_PUSHMATRIX_UNDERFLOW);
    }
    matrixStackDepth--;
    modelview.set(matrixStack[matrixStackDepth]);
    modelviewInv.set(matrixInvStack[matrixStackDepth]);
  }
}
