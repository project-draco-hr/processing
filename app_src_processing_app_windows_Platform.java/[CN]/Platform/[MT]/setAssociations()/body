{
  final REGISTRY_ROOT_KEY rootKey=REGISTRY_ROOT_KEY.CURRENT_USER;
  final String docPrefix="Software\\Classes\\" + REG_DOC;
  if (Registry.createKey(rootKey,"Software\\Classes",".pde") && Registry.setStringValue(rootKey,"Software\\Classes\\.pde","",REG_DOC) && Registry.createKey(rootKey,"Software\\Classes",REG_DOC)&& Registry.setStringValue(rootKey,docPrefix,"",APP_NAME + " Source Code")&& Registry.createKey(rootKey,docPrefix,"shell")&& Registry.createKey(rootKey,docPrefix + "\\shell","open")&& Registry.createKey(rootKey,docPrefix + "\\shell\\open","command")&& Registry.setStringValue(rootKey,docPrefix + "\\shell\\open\\command","",REG_OPEN_COMMAND)) {
  }
 else {
    Base.log("Could not associate files, turning off auto-associate pref.");
    Preferences.setBoolean("platform.auto_file_type_associations",false);
  }
}
