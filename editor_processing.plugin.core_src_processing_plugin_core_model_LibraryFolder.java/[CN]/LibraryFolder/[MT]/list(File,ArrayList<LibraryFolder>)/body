{
  if (folder == null)   return;
  if (folder.isDirectory()) {
    String[] list=folder.list(new FilenameFilter(){
      public boolean accept(      File dir,      String name){
        if (name.charAt(0) == '.')         return false;
        if (name.equals("CVS"))         return false;
        return (new File(dir,name).isDirectory());
      }
    }
);
    if (list != null) {
      for (      String potentialName : list) {
        File baseFolder=new File(folder,potentialName);
        File libraryFolder=new File(baseFolder,"library");
        File libraryJar=new File(libraryFolder,potentialName + ".jar");
        if (libraryJar.exists()) {
          String sanityCheck=ProcessingUtilities.sanitizeName(potentialName);
          if (sanityCheck.equals(potentialName)) {
            libraries.add(new LibraryFolder(baseFolder));
          }
 else {
            ProcessingLog.logInfo("The library \"" + potentialName + "\" cannot be used.\n"+ "Library names must contain only basic letters and numbers.\n"+ "(ASCII only and no spaces, and it cannot start with a number)");
            continue;
          }
        }
      }
    }
  }
}
