{
  try {
    new SwingWorker(){
      protected Object doInBackground() throws Exception {
        Sketch sketch=editor.getSketch();
        int currentTab=sketch.getCurrentCodeIndex();
        errorPoints=new ArrayList<>();
synchronized (problems) {
          for (          Problem problem : problems) {
            if (problem.getTabIndex() == currentTab) {
              errorPoints.add(new LineMarker(problem,problem.isError()));
            }
          }
        }
        recalculateMarkerPositions();
        return null;
      }
      protected void done(){
        repaint();
      }
    }
.execute();
  }
 catch (  Exception ex) {
    ex.printStackTrace();
  }
}
