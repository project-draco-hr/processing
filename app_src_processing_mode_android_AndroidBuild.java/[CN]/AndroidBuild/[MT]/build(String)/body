{
  boolean avd=AVD.ensureEclairAVD(sdk);
  if (!avd) {
    SketchException se=new SketchException("Could not create a virtual device for the emulator.");
    se.hideStackTrace();
    throw se;
  }
  this.target=target;
  File folder=createProject();
  if (folder != null) {
    if (!antBuild()) {
      return null;
    }
  }
  return folder;
}
