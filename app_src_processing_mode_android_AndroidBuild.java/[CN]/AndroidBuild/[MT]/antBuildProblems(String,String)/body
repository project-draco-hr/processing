{
  final String[] outLines=outPile.split(System.getProperty("line.separator"));
  final String[] errLines=errPile.split(System.getProperty("line.separator"));
  for (  final String line : outLines) {
    final String javacPrefix="[javac]";
    final int javacIndex=line.indexOf(javacPrefix);
    if (javacIndex != -1) {
      int offset=javacIndex + javacPrefix.length() + 1;
      String[] pieces=PApplet.match(line.substring(offset),"^(.+):([0-9]+):\\s+(.+)$");
      if (pieces != null) {
        String fileName=pieces[1];
        fileName=fileName.substring(fileName.lastIndexOf('/') + 1);
        final int lineNumber=PApplet.parseInt(pieces[2]) - 1;
        SketchException rex=placeException(pieces[3],fileName,lineNumber);
        if (rex != null) {
          throw rex;
        }
      }
    }
  }
  SketchException skex=new SketchException("Error from inside the Android tools, " + "check the console.");
  for (  final String line : errLines) {
    if (line.contains("Unable to resolve target '" + sdkTarget + "'")) {
      System.err.println("Use the Android SDK Manager (under the Android");
      System.err.println("menu) to install the SDK platform and ");
      System.err.println("Google APIs for Android " + sdkName + " (API "+ sdkVersion+ ")");
      skex=new SketchException("Please install the SDK platform and " + "Google APIs for API " + sdkVersion);
    }
  }
  skex.hideStackTrace();
  throw skex;
}
