{
  factory=new ClassPathFactory();
  StringList entries=new StringList();
  entries.append(System.getProperty("java.class.path"));
  entries.append(System.getProperty("java.home") + File.separator + "lib"+ File.separator+ "rt.jar");
  String modeClassPath=((JavaMode)editor.getMode()).getSearchPath();
  if (modeClassPath != null) {
    entries.append(modeClassPath);
  }
  if (errorCheckerService.classpathJars != null) {
synchronized (errorCheckerService.classpathJars) {
      for (      URL jarPath : errorCheckerService.classpathJars) {
        entries.append(jarPath.getPath());
      }
    }
  }
  classPath=factory.createFromPath(entries.join(File.pathSeparator));
  log("Classpath created " + (classPath != null));
  log("Sketch classpath jars loaded.");
  if (Platform.isMacOS()) {
    File f=new File(System.getProperty("java.home") + File.separator + "bundle"+ File.separator+ "Classes"+ File.separator+ "classes.jar");
    log(f.getAbsolutePath() + " | classes.jar found?" + f.exists());
  }
 else {
    File f=new File(System.getProperty("java.home") + File.separator + "lib"+ File.separator+ "rt.jar"+ File.separator);
    log(f.getAbsolutePath() + " | rt.jar found?" + f.exists());
  }
}
