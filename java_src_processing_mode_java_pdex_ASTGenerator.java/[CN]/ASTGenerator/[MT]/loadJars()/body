{
  factory=new ClassPathFactory();
  StringBuilder path=new StringBuilder();
  String modeClassPath=getJavaSearchPath() + File.pathSeparatorChar + ((JavaMode)editor.getMode()).getSearchPath();
  if (modeClassPath != null) {
    path.append(modeClassPath);
  }
  if (errorCheckerService.classpathJars != null) {
synchronized (errorCheckerService.classpathJars) {
      for (      URL jarPath : errorCheckerService.classpathJars) {
        path.append(jarPath.getPath() + File.pathSeparatorChar);
      }
    }
  }
  classPath=factory.createFromPath(path.toString());
  log("Classpath created " + (classPath != null));
  log("Sketch classpath jars loaded.");
  if (Platform.isMacOS()) {
    File f=new File(System.getProperty("java.home") + File.separator + "bundle"+ File.separator+ "Classes"+ File.separator+ "classes.jar");
    log(f.getAbsolutePath() + " | classes.jar found?" + f.exists());
  }
 else {
    File f=new File(System.getProperty("java.home") + File.separator + "lib"+ File.separator+ "rt.jar"+ File.separator);
    log(f.getAbsolutePath() + " | rt.jar found?" + f.exists());
  }
}
