{
  if (node == null)   return null;
  CompilationUnit root=(CompilationUnit)node.getRoot();
  if (root.getLineNumber(node.getStartPosition()) == lineNumber) {
    return node;
  }
  for (  Object oprop : node.structuralPropertiesForType()) {
    StructuralPropertyDescriptor prop=(StructuralPropertyDescriptor)oprop;
    if (prop.isChildProperty() || prop.isSimpleProperty()) {
      if (node.getStructuralProperty(prop) != null) {
        if (node.getStructuralProperty(prop) instanceof ASTNode) {
          ASTNode retNode=findLineOfNode((ASTNode)node.getStructuralProperty(prop),lineNumber,offset,name);
          if (retNode != null) {
            return retNode;
          }
        }
      }
    }
 else     if (prop.isChildListProperty()) {
      List<ASTNode> nodelist=(List<ASTNode>)node.getStructuralProperty(prop);
      for (      ASTNode retNode : nodelist) {
        ASTNode rr=findLineOfNode(retNode,lineNumber,offset,name);
        if (rr != null) {
          return rr;
        }
      }
    }
  }
  return null;
}
