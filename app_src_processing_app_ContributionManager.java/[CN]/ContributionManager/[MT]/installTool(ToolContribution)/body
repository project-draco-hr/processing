{
  ArrayList<ToolContribution> oldTools=editor.contribTools;
  String toolFolderName=newTool.getFolder().getName();
  File toolDestination=editor.getBase().getSketchbookToolsFolder();
  File newToolDest=new File(toolDestination,toolFolderName);
  for (  ToolContribution oldTool : oldTools) {
    if (oldTool.getFolder().exists() && oldTool.getFolder().equals(newToolDest)) {
      if (!backupContribution(oldTool,false)) {
        return null;
      }
    }
  }
  if (newTool.getFolder().renameTo(newToolDest)) {
    ToolContribution movedTool=ToolContribution.getTool(newToolDest);
    try {
      movedTool.initializeToolClass();
      return movedTool;
    }
 catch (    Exception e) {
      e.printStackTrace();
    }
  }
 else {
    Base.showWarning("Trouble moving new tool to the sketchbook","Could not move tool \"" + newTool.getName() + "\" to "+ newToolDest.getAbsolutePath()+ ".\n",null);
  }
  return null;
}
