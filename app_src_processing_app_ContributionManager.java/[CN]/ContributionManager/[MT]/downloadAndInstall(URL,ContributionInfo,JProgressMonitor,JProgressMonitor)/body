{
  File libDest=getTemporaryFile(url);
  final FileDownloader downloader=new FileDownloader(url,libDest,downloadProgressMonitor);
  downloader.setPostOperation(new Runnable(){
    public void run(){
      File libFile=downloader.getFile();
      if (libFile != null) {
        installProgressMonitor.startTask("Installing",ProgressMonitor.UNKNOWN);
        Contribution contribution=null;
switch (info.getType()) {
case LIBRARY:
          contribution=installLibrary(libFile,false);
        break;
case LIBRARY_COMPILATION:
      contribution=installLibraryCompilation(libFile);
    break;
}
if (contribution != null) {
  contributionListing.getInformationFromAdvertised(contribution.getInfo());
  contributionListing.replaceContribution(info,contribution.getInfo());
  refreshInstalled();
}
}
dialog.pack();
installProgressMonitor.finished();
}
}
);
new Thread(downloader).start();
}
