{
  File parentDir=unzipFileToTemp(f);
  LibraryCompilation compilation=LibraryCompilation.create(parentDir);
  if (compilation == null) {
    Base.showWarning(DISCOVERY_ERROR_TITLE,DISCOVERY_NONE_FOUND_ERROR_MESSAGE,null);
    return null;
  }
  String folderName=compilation.getName();
  File libraryDestination=editor.getBase().getSketchbookLibrariesFolder();
  File dest=new File(libraryDestination,folderName);
  boolean errorEncountered=false;
  if (dest.exists()) {
    if (!dest.delete()) {
      errorEncountered=true;
    }
  }
  if (!errorEncountered) {
    if (parentDir.renameTo(dest)) {
      return LibraryCompilation.create(dest);
    }
  }
  return null;
}
