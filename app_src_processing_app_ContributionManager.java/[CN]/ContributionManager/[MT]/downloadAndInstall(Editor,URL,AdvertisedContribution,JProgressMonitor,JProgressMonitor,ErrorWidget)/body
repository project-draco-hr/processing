{
  final File libDest=getTemporaryFile(url,statusBar);
  new Thread(new Runnable(){
    public void run(){
      FileDownloader.downloadFile(url,libDest,downloadProgressMonitor);
      if (!downloadProgressMonitor.isCanceled() && !downloadProgressMonitor.isError()) {
        installProgressMonitor.startTask("Installing",ProgressMonitor.UNKNOWN);
        InstalledContribution contribution=null;
switch (ad.getType()) {
case LIBRARY:
          contribution=installLibrary(editor,libDest,ad,false,statusBar);
        break;
case LIBRARY_COMPILATION:
      contribution=installLibraryCompilation(editor,libDest,statusBar);
    break;
case TOOL:
  contribution=installTool(editor,libDest,ad,statusBar);
break;
}
if (contribution != null) {
contribListing.replaceContribution(ad,contribution);
refreshInstalled(editor);
}
installProgressMonitor.finished();
}
}
}
).start();
}
