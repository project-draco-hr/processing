{
  File libDest=getTemporaryFile(url);
  final FileDownloader downloader=new FileDownloader(url,libDest,downloadProgressMonitor);
  downloader.setPostOperation(new Runnable(){
    public void run(){
      File contributionFile=downloader.getFile();
      if (contributionFile != null) {
        installProgressMonitor.startTask("Installing",ProgressMonitor.UNKNOWN);
        InstalledContribution contribution=null;
switch (info.getType()) {
case LIBRARY:
          contribution=installLibrary(contributionFile,false);
        break;
case LIBRARY_COMPILATION:
      contribution=installLibraryCompilation(contributionFile);
    break;
case TOOL:
  contribution=installTool(contributionFile);
break;
}
if (contribution != null) {
contributionListing.replaceContribution(info,contribution);
refreshInstalled();
}
}
dialog.pack();
installProgressMonitor.finished();
}
}
);
new Thread(downloader).start();
}
