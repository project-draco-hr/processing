{
  new Thread(new Runnable(){
    public void run(){
      pm.startTask("Removing",ProgressMonitor.UNKNOWN);
      if (library != null) {
        if (backupContribution(library)) {
          ContributionInfo advertisedVersion=contributionListing.getAdvertisedContribution(library.getInfo().name,library.getInfo().getType());
          if (advertisedVersion == null) {
            contributionListing.removeLibrary(library.getInfo());
          }
 else {
            contributionListing.replaceLibrary(library.getInfo(),advertisedVersion);
          }
        }
      }
      refreshInstalled();
      pm.finished();
    }
  }
).start();
}
