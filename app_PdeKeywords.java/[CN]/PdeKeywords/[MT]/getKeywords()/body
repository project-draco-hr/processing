{
  if (keywordColoring == null) {
    try {
      keywordColoring=new KeywordMap(false);
      keywordToReference=new Hashtable();
      InputStream input=PdeBase.getStream("keywords.txt");
      BufferedReader reader=new BufferedReader(new InputStreamReader(input));
      String line=null;
      while ((line=reader.readLine()) != null) {
        int tab=line.indexOf('\t');
        if (tab == -1)         continue;
        String keyword=line.substring(0,tab).trim();
        String second=line.substring(tab + 1);
        tab=second.indexOf('\t');
        String coloring=second.substring(0,tab).trim();
        String htmlFilename=second.substring(tab + 1).trim();
        if (coloring.length() > 0) {
          boolean isKey=(coloring.charAt(0) == 'K');
          int num=coloring.charAt(coloring.length() - 1) - '1';
          byte id=(byte)((isKey ? Token.KEYWORD1 : Token.LITERAL1) + num);
          keywordColoring.add(keyword,id);
        }
        if (htmlFilename.length() > 0) {
          keywordToReference.put(keyword,htmlFilename);
        }
      }
      reader.close();
    }
 catch (    Exception e) {
      PdeBase.showError("Problem loading keywords","Could not find keywords.txt,\n" + "please re-install Processing.",e);
      System.exit(1);
    }
  }
  return keywordColoring;
}
