{
  for (  Pad pad : src.getPads()) {
    Caps caps=pad.getNegotiatedCaps();
    int n=caps.size();
    for (int i=0; i < n; i++) {
      Structure str=caps.getStructure(i);
      PApplet.println(str);
      if (propertyName != null && str.hasField(propertyName)) {
        Object value=str.getValue(propertyName);
        if (value instanceof String) {
          String strValue=(String)value;
          String checkValue=(String)propertyValue;
          if (!strValue.equals(checkValue))           continue;
        }
 else         if (value instanceof Integer) {
          Integer intValue=(Integer)value;
          Integer checkValue=(Integer)propertyValue;
          if (intValue != checkValue)           continue;
        }
      }
      if (!str.hasIntField("width") || !str.hasIntField("height"))       continue;
      int w=((Integer)str.getValue("width")).intValue();
      int h=((Integer)str.getValue("height")).intValue();
      if (PApplet.platform == WINDOWS) {
        addResFromString(res,str.toString(),w,h);
      }
 else {
        addResFromStructure(res,str,w,h);
      }
    }
  }
}
