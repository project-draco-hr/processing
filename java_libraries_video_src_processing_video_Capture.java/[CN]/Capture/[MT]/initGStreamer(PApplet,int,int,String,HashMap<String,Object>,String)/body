{
  this.parent=parent;
  String[] cameras=list(sourceName);
  if (cameras.length == 0) {
    throw new RuntimeException("There are no cameras available for capture.");
  }
  Video.init();
  parent.registerDispose(this);
  setEventHandlerObject(parent);
  gpipeline=new Pipeline("GSCapture");
  this.source=sourceName;
  fps=frameRate;
  reqWidth=requestWidth;
  reqHeight=requestHeight;
  gsource=ElementFactory.make(sourceName,"Source");
  if (properties != null) {
    Iterator<String> it=properties.keySet().iterator();
    while (it.hasNext()) {
      String name=it.next();
      Object value=properties.get(name);
      gsource.set(name,value);
    }
  }
  bufWidth=bufHeight=0;
  pipelineReady=false;
}
