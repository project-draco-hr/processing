{
  if (frameRate < 0) {
    frameRate=getSourceFrameRate();
  }
  if (useBufferSink) {
    if (natBuffer == null) {
      return;
    }
    if (firstFrame) {
      super.init(bufWidth,bufHeight,ARGB);
      firstFrame=false;
    }
    if (bufferSink == null) {
      Object cache=parent.g.getCache(this);
      if (cache == null) {
        return;
      }
      setBufferSink(cache);
      getSinkMethods();
    }
    ByteBuffer byteBuffer=natBuffer.getByteBuffer();
    try {
      sinkCopyMethod.invoke(bufferSink,new Object[]{natBuffer,byteBuffer,bufWidth,bufHeight});
    }
 catch (    Exception e) {
      e.printStackTrace();
    }
    natBuffer=null;
  }
 else {
    if (copyPixels == null) {
      return;
    }
    if (firstFrame) {
      super.init(bufWidth,bufHeight,RGB);
      firstFrame=false;
    }
    int[] temp=pixels;
    pixels=copyPixels;
    updatePixels();
    copyPixels=temp;
  }
  available=false;
  newFrame=true;
}
