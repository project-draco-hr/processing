{
  if (!EventQueue.isDispatchThread()) {
    System.err.println("render() called outside the EDT");
  }
  if (!canvas.isDisplayable()) {
    return;
  }
  if (graphics.image == null) {
    if (PApplet.DEBUG) {
      new Exception("image is null, returning").printStackTrace(System.out);
    }
    return;
  }
  if (canvas.getBufferStrategy() == null) {
    canvas.createBufferStrategy(2);
  }
  BufferStrategy strategy=canvas.getBufferStrategy();
  if (strategy == null) {
    return;
  }
  do {
    do {
      Graphics draw=strategy.getDrawGraphics();
      draw.drawImage(graphics.image,0,0,sketchWidth,sketchHeight,null);
      draw.dispose();
    }
 while (strategy.contentsRestored());
    strategy.show();
  }
 while (strategy.contentsLost());
}
