{
  if (PApplet.platform == PConstants.MACOSX) {
    final String javaVendor=System.getProperty("java.vendor");
    if (javaVendor.contains("Oracle")) {
      GraphicsEnvironment env=GraphicsEnvironment.getLocalGraphicsEnvironment();
      GraphicsDevice device=env.getDefaultScreenDevice();
      try {
        Field field=device.getClass().getDeclaredField("scale");
        if (field != null) {
          field.setAccessible(true);
          Object scale=field.get(device);
          if (scale instanceof Integer && ((Integer)scale).intValue() == 2) {
            return true;
          }
        }
      }
 catch (      Exception ignore) {
      }
    }
  }
  return false;
}
