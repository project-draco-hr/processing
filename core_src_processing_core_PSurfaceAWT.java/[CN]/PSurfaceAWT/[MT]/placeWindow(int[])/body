{
  setFrameSize();
  if (location != null) {
    frame.setLocation(location[0],location[1]);
  }
 else {
    frame.setLocation(screenRect.x + (screenRect.width - sketchWidth) / 2,screenRect.y + (screenRect.height - sketchHeight) / 2);
  }
  Point frameLoc=frame.getLocation();
  if (frameLoc.y < 0) {
    frame.setLocation(frameLoc.x,30);
  }
  setCanvasSize();
  frame.addWindowListener(new WindowAdapter(){
    @Override public void windowClosing(    WindowEvent e){
      System.exit(0);
    }
  }
);
  setupFrameResizeListener();
  if (sketch.getGraphics().displayable()) {
    setVisible(true);
  }
}
