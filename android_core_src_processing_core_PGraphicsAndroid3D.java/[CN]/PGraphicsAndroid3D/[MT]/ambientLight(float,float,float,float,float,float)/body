{
  enableLighting();
  if (lightCount == PGL.MAX_LIGHTS) {
    throw new RuntimeException("can only create " + PGL.MAX_LIGHTS + " lights");
  }
  colorCalc(r,g,b);
  lightDiffuse[lightCount][0]=calcR;
  lightDiffuse[lightCount][1]=calcG;
  lightDiffuse[lightCount][2]=calcB;
  lightDiffuse[lightCount][3]=1.0f;
  lightType[lightCount]=AMBIENT;
  lightFalloffConstant[lightCount]=currentLightFalloffConstant;
  lightFalloffLinear[lightCount]=currentLightFalloffLinear;
  lightFalloffQuadratic[lightCount]=currentLightFalloffQuadratic;
  lightPosition[lightCount][0]=x;
  lightPosition[lightCount][1]=y;
  lightPosition[lightCount][2]=z;
  lightPosition[lightCount][3]=1.0f;
  lightEnable(lightCount);
  lightAmbient(lightCount);
  lightPosition(lightCount);
  lightFalloff(lightCount);
  lightNoSpot(lightCount);
  lightNoDiffuse(lightCount);
  lightNoSpecular(lightCount);
  lightCount++;
}
