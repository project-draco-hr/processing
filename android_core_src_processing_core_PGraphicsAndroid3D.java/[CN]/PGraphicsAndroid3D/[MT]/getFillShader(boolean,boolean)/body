{
  FillShader shader;
  if (lit) {
    if (tex) {
      if (defFillShaderFull == null) {
        defFillShaderFull=new FillShaderFull(parent,defFillShaderVertFullURL,defFillShaderFragTexURL);
      }
      if (fillShaderFull == null) {
        fillShaderFull=defFillShaderFull;
      }
      shader=fillShaderFull;
    }
 else {
      if (defFillShaderLit == null) {
        defFillShaderLit=new FillShaderLit(parent,defFillShaderVertLitURL,defFillShaderFragNoTexURL);
      }
      if (fillShaderLit == null) {
        fillShaderLit=defFillShaderLit;
      }
      shader=fillShaderLit;
    }
  }
 else {
    if (tex) {
      if (defFillShaderTex == null) {
        defFillShaderTex=new FillShaderTex(parent,defFillShaderVertTexURL,defFillShaderFragTexURL);
      }
      if (fillShaderTex == null) {
        fillShaderTex=defFillShaderTex;
      }
      shader=fillShaderTex;
    }
 else {
      if (defFillShaderSimple == null) {
        defFillShaderSimple=new FillShaderSimple(parent,defFillShaderVertSimpleURL,defFillShaderFragNoTexURL);
      }
      if (fillShaderSimple == null) {
        fillShaderSimple=defFillShaderSimple;
      }
      shader=fillShaderSimple;
    }
  }
  shader.loadAttributes();
  shader.loadUniforms();
  return shader;
}
