{
  pg=(PGraphicsAndroid3D)parent.g;
  pgl.initOffscreenSurface(pg.pgl);
  pgl.updateOffscreen(pg.pgl);
  loadTextureImpl(BILINEAR);
  if (offscreenFramebuffer != null) {
    offscreenFramebuffer.release();
  }
  if (offscreenFramebufferMultisample != null) {
    offscreenFramebufferMultisample.release();
  }
  if (PGraphicsAndroid3D.fboMultisampleSupported && 1 < antialias) {
    offscreenFramebufferMultisample=new PFramebuffer(parent,texture.glWidth,texture.glHeight,antialias,0,PGL.DEFAULT_DEPTH_BITS,PGL.DEFAULT_STENCIL_BITS,PGL.DEFAULT_DEPTH_BITS == 24 && PGL.DEFAULT_STENCIL_BITS == 8,false);
    offscreenFramebufferMultisample.clear();
    offscreenMultisample=true;
    offscreenFramebuffer=new PFramebuffer(parent,texture.glWidth,texture.glHeight,1,1,0,0,false,false);
  }
 else {
    antialias=0;
    offscreenFramebuffer=new PFramebuffer(parent,texture.glWidth,texture.glHeight,1,1,PGL.DEFAULT_DEPTH_BITS,PGL.DEFAULT_STENCIL_BITS,PGL.DEFAULT_DEPTH_BITS == 24 && PGL.DEFAULT_STENCIL_BITS == 8,false);
    offscreenMultisample=false;
  }
  offscreenFramebuffer.setColorBuffer(texture);
  offscreenFramebuffer.clear();
}
