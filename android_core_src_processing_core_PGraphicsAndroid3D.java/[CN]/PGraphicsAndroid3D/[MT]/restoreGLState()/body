{
  pgl.setViewport(viewport);
  if (hints[DISABLE_DEPTH_TEST]) {
    pgl.disableDepthTest();
    pgl.setClearColor(0,0,0,0);
    pgl.clearDepthBuffer();
  }
 else {
    pgl.enableDepthTest();
  }
  if (hints[DISABLE_DEPTH_MASK]) {
    pgl.disableDepthMask();
  }
 else {
    pgl.enableDepthMask();
  }
  blendMode(blendMode);
  pgl.setFrontFace(PGL.CLOCKWISE);
  pgl.setDepthFunc(PGL.LESS_OR_EQUAL);
  setSurfaceParams();
}
