{
  offscreenTexCrop=new int[4];
  offscreenTexCrop[0]=0;
  offscreenTexCrop[1]=0;
  offscreenTexCrop[2]=width;
  offscreenTexCrop[3]=height;
  offscreenImages=new PImage[2];
  if (primarySurface) {
    offscreenImages[0]=parent.createImage(width,height,ARGB,new PTexture.Parameters(ARGB,POINT));
    offscreenImages[1]=parent.createImage(width,height,ARGB,new PTexture.Parameters(ARGB,POINT));
  }
 else {
    offscreenImages[0]=parent.createImage(width,height,ARGB,new PTexture.Parameters(ARGB,BILINEAR));
    offscreenImages[1]=parent.createImage(width,height,ARGB,new PTexture.Parameters(ARGB,BILINEAR));
  }
  offscreenTextures=new PTexture[2];
  offscreenTextures[0]=addTexture(offscreenImages[0]);
  offscreenTextures[1]=addTexture(offscreenImages[1]);
  offscreenTextures[0].setFlippedY(true);
  offscreenTextures[1].setFlippedY(true);
  offscreenIndex=0;
  offscreenFramebuffer=new PFramebuffer(parent,offscreenTextures[0].getGLWidth(),offscreenTextures[0].getGLHeight(),false);
  offscreenFramebuffer.addDepthBuffer(offscreenDepthBits);
  if (0 < offscreenStencilBits) {
    offscreenFramebuffer.addStencilBuffer(offscreenStencilBits);
  }
  texture=offscreenTextures[offscreenIndex];
}
